(()=>{"use strict";var t="http://localhost:3000",n=void 0,e=function(t){this.currentTab=t,this.parked=!1,this.parkingSpot=null};function r(){return void 0===n&&(n=new e("finder-tab")),n}var i=function(t,n){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)Object.prototype.hasOwnProperty.call(n,e)&&(t[e]=n[e])},i(t,n)};function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function e(){this.constructor=t}i(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}function c(t,n){var e,r,i,o,c={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(e)throw new TypeError("Generator is already executing.");for(;c;)try{if(e=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,r=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((i=(i=c.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){c.label=o[1];break}if(6===o[0]&&c.label<i[1]){c.label=i[1],i=o;break}if(i&&c.label<i[2]){c.label=i[2],c.ops.push(o);break}i[2]&&c.ops.pop(),c.trys.pop();continue}o=n.call(t,c)}catch(t){o=[6,t],r=0}finally{e=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}}function u(t){var n="function"==typeof Symbol&&Symbol.iterator,e=n&&t[n],r=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,n){var e="function"==typeof Symbol&&t[Symbol.iterator];if(!e)return t;var r,i,o=e.call(t),c=[];try{for(;(void 0===n||n-- >0)&&!(r=o.next()).done;)c.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return c}function s(t,n,e){if(e||2===arguments.length)for(var r,i=0,o=n.length;i<o;i++)!r&&i in n||(r||(r=Array.prototype.slice.call(n,0,i)),r[i]=n[i]);return t.concat(r||Array.prototype.slice.call(n))}function l(t){return this instanceof l?(this.v=t,this):new l(t)}function f(t,n,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=e.apply(t,n||[]),o=[];return r={},c("next"),c("throw"),c("return"),r[Symbol.asyncIterator]=function(){return this},r;function c(t){i[t]&&(r[t]=function(n){return new Promise((function(e,r){o.push([t,n,e,r])>1||u(t,n)}))})}function u(t,n){try{(e=i[t](n)).value instanceof l?Promise.resolve(e.value.v).then(a,s):f(o[0][2],e)}catch(t){f(o[0][3],t)}var e}function a(t){u("next",t)}function s(t){u("throw",t)}function f(t,n){t(n),o.shift(),o.length&&u(o[0][0],o[0][1])}}Object.create,Object.create;var d=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function p(t){return"function"==typeof t}function h(t){return p(null==t?void 0:t.then)}var v,y=((v=function(t){return function(n){t(this),this.message=n?n.length+" errors occurred during unsubscription:\n"+n.map((function(t,n){return n+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=n}}((function(t){Error.call(t),t.stack=(new Error).stack}))).prototype=Object.create(Error.prototype),v.prototype.constructor=v,v);function b(t,n){if(t){var e=t.indexOf(n);0<=e&&t.splice(e,1)}}var m=function(){function t(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}var n;return t.prototype.unsubscribe=function(){var t,n,e,r,i;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var c=u(o),l=c.next();!l.done;l=c.next())l.value.remove(this)}catch(n){t={error:n}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}else o.remove(this);var f=this.initialTeardown;if(p(f))try{f()}catch(t){i=t instanceof y?t.errors:[t]}var d=this._finalizers;if(d){this._finalizers=null;try{for(var h=u(d),v=h.next();!v.done;v=h.next()){var b=v.value;try{g(b)}catch(t){i=null!=i?i:[],t instanceof y?i=s(s([],a(i)),a(t.errors)):i.push(t)}}}catch(t){e={error:t}}finally{try{v&&!v.done&&(r=h.return)&&r.call(h)}finally{if(e)throw e.error}}}if(i)throw new y(i)}},t.prototype.add=function(n){var e;if(n&&n!==this)if(this.closed)g(n);else{if(n instanceof t){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(n)}},t.prototype._hasParent=function(t){var n=this._parentage;return n===t||Array.isArray(n)&&n.includes(t)},t.prototype._addParent=function(t){var n=this._parentage;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t},t.prototype._removeParent=function(t){var n=this._parentage;n===t?this._parentage=null:Array.isArray(n)&&b(n,t)},t.prototype.remove=function(n){var e=this._finalizers;e&&b(e,n),n instanceof t&&n._removeParent(this)},t.EMPTY=((n=new t).closed=!0,n),t}();function w(t){return t instanceof m||t&&"closed"in t&&p(t.remove)&&p(t.add)&&p(t.unsubscribe)}function g(t){p(t)?t():t.unsubscribe()}m.EMPTY;var x=null,S=null,k=void 0,E=!1,L=!1,T={setTimeout:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=T.delegate;return(null==i?void 0:i.setTimeout)?i.setTimeout.apply(i,s([t,n],a(e))):setTimeout.apply(void 0,s([t,n],a(e)))},clearTimeout:function(t){var n=T.delegate;return((null==n?void 0:n.clearTimeout)||clearTimeout)(t)},delegate:void 0};function _(t){T.setTimeout((function(){if(!x)throw t;x(t)}))}function I(){}var A=C("C",void 0,void 0);function C(t,n,e){return{kind:t,value:n,error:e}}var P=null,O=function(t){function n(n){var e=t.call(this)||this;return e.isStopped=!1,n?(e.destination=n,w(n)&&n.add(e)):e.destination=Y,e}return o(n,t),n.create=function(t,n,e){return new H(t,n,e)},n.prototype.next=function(t){this.isStopped?B(function(t){return C("N",t,void 0)}(t),this):this._next(t)},n.prototype.error=function(t){this.isStopped?B(C("E",void 0,t),this):(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped?B(A,this):(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},n.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},n}(m),M=Function.prototype.bind;function z(t,n){return M.call(t,n)}var j=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var n=this.partialObserver;if(n.next)try{n.next(t)}catch(t){D(t)}},t.prototype.error=function(t){var n=this.partialObserver;if(n.error)try{n.error(t)}catch(t){D(t)}else D(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){D(t)}},t}(),H=function(t){function n(n,e,r){var i,o,c=t.call(this)||this;return p(n)||!n?i={next:null!=n?n:void 0,error:null!=e?e:void 0,complete:null!=r?r:void 0}:c&&L?((o=Object.create(n)).unsubscribe=function(){return c.unsubscribe()},i={next:n.next&&z(n.next,o),error:n.error&&z(n.error,o),complete:n.complete&&z(n.complete,o)}):i=n,c.destination=new j(i),c}return o(n,t),n}(O);function D(t){var n;E?(n=t,E&&P&&(P.errorThrown=!0,P.error=n)):_(t)}function B(t,n){var e=S;e&&T.setTimeout((function(){return e(t,n)}))}var Y={closed:!0,next:I,error:function(t){throw t},complete:I},N="function"==typeof Symbol&&Symbol.observable||"@@observable";function U(t){return t}function R(t){return 0===t.length?U:1===t.length?t[0]:function(n){return t.reduce((function(t,n){return n(t)}),n)}}var X=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(n){var e=new t;return e.source=this,e.operator=n,e},t.prototype.subscribe=function(t,n,e){var r,i=this,o=(r=t)&&r instanceof O||function(t){return t&&p(t.next)&&p(t.error)&&p(t.complete)}(r)&&w(r)?t:new H(t,n,e);return function(t){if(E){var n=!P;if(n&&(P={errorThrown:!1,error:null}),t(),n){var e=P,r=e.errorThrown,i=e.error;if(P=null,r)throw i}}else t()}((function(){var t=i,n=t.operator,e=t.source;o.add(n?n.call(o,e):e?i._subscribe(o):i._trySubscribe(o))})),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){t.error(n)}},t.prototype.forEach=function(t,n){var e=this;return new(n=F(n))((function(n,r){var i=new H({next:function(n){try{t(n)}catch(t){r(t),i.unsubscribe()}},error:r,complete:n});e.subscribe(i)}))},t.prototype._subscribe=function(t){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(t)},t.prototype[N]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return R(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=F(t))((function(t,e){var r;n.subscribe((function(t){return r=t}),(function(t){return e(t)}),(function(){return t(r)}))}))},t.create=function(n){return new t(n)},t}();function F(t){var n;return null!==(n=null!=t?t:k)&&void 0!==n?n:Promise}function q(t){return p(t[N])}function G(t){return Symbol.asyncIterator&&p(null==t?void 0:t[Symbol.asyncIterator])}function J(t){return new TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var K="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function Q(t){return p(null==t?void 0:t[K])}function V(t){return f(this,arguments,(function(){var n,e,r;return c(this,(function(i){switch(i.label){case 0:n=t.getReader(),i.label=1;case 1:i.trys.push([1,,9,10]),i.label=2;case 2:return[4,l(n.read())];case 3:return e=i.sent(),r=e.value,e.done?[4,l(void 0)]:[3,5];case 4:return[2,i.sent()];case 5:return[4,l(r)];case 6:return[4,i.sent()];case 7:return i.sent(),[3,2];case 8:return[3,10];case 9:return n.releaseLock(),[7];case 10:return[2]}}))}))}function W(t){return p(null==t?void 0:t.getReader)}function Z(t){if(t instanceof X)return t;if(null!=t){if(q(t))return i=t,new X((function(t){var n=i[N]();if(p(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")}));if(d(t))return r=t,new X((function(t){for(var n=0;n<r.length&&!t.closed;n++)t.next(r[n]);t.complete()}));if(h(t))return e=t,new X((function(t){e.then((function(n){t.closed||(t.next(n),t.complete())}),(function(n){return t.error(n)})).then(null,_)}));if(G(t))return $(t);if(Q(t))return n=t,new X((function(t){var e,r;try{for(var i=u(n),o=i.next();!o.done;o=i.next()){var c=o.value;if(t.next(c),t.closed)return}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}t.complete()}));if(W(t))return $(V(t))}var n,e,r,i;throw J(t)}function $(t){return new X((function(n){(function(t,n){var e,r,i,o,a,s,l,f;return a=this,s=void 0,f=function(){var a,s;return c(this,(function(c){switch(c.label){case 0:c.trys.push([0,5,6,11]),e=function(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=u(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(e){n[e]=t[e]&&function(n){return new Promise((function(r,i){!function(t,n,e,r){Promise.resolve(r).then((function(n){t({value:n,done:e})}),n)}(r,i,(n=t[e](n)).done,n.value)}))}}}(t),c.label=1;case 1:return[4,e.next()];case 2:if((r=c.sent()).done)return[3,4];if(a=r.value,n.next(a),n.closed)return[2];c.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=c.sent(),i={error:s},[3,11];case 6:return c.trys.push([6,,9,10]),r&&!r.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:c.sent(),c.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return n.complete(),[2]}}))},new((l=void 0)||(l=Promise))((function(t,n){function e(t){try{i(f.next(t))}catch(t){n(t)}}function r(t){try{i(f.throw(t))}catch(t){n(t)}}function i(n){var i;n.done?t(n.value):(i=n.value,i instanceof l?i:new l((function(t){t(i)}))).then(e,r)}i((f=f.apply(a,s||[])).next())}))})(t,n).catch((function(t){return n.error(t)}))}))}function tt(t){return function(n){if(function(t){return p(null==t?void 0:t.lift)}(n))return n.lift((function(n){try{return t(n,this)}catch(t){this.error(t)}}));throw new TypeError("Unable to lift unknown Observable type")}}function nt(t,n,e,r,i){return new et(t,n,e,r,i)}var et=function(t){function n(n,e,r,i,o,c){var u=t.call(this,n)||this;return u.onFinalize=o,u.shouldUnsubscribe=c,u._next=e?function(t){try{e(t)}catch(t){n.error(t)}}:t.prototype._next,u._error=i?function(t){try{i(t)}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=r?function(){try{r()}catch(t){n.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return o(n,t),n.prototype.unsubscribe=function(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var e=this.closed;t.prototype.unsubscribe.call(this),!e&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}},n}(O);function rt(t,n){return tt((function(e,r){var i=0;e.subscribe(nt(r,(function(e){r.next(t.call(n,e,i++))})))}))}function it(t,n,e,r,i){void 0===r&&(r=0),void 0===i&&(i=!1);var o=n.schedule((function(){e(),i?t.add(this.schedule(null,r)):this.unsubscribe()}),r);if(t.add(o),!i)return o}function ot(t,n,e){return void 0===e&&(e=1/0),p(n)?ot((function(e,r){return rt((function(t,i){return n(e,t,r,i)}))(Z(t(e,r)))}),e):("number"==typeof n&&(e=n),tt((function(n,r){return function(t,n,e,r,i,o,c,u){var a=[],s=0,l=0,f=!1,d=function(){!f||a.length||s||n.complete()},p=function(t){return s<r?h(t):a.push(t)},h=function(t){s++;var i=!1;Z(e(t,l++)).subscribe(nt(n,(function(t){n.next(t)}),(function(){i=!0}),void 0,(function(){if(i)try{s--;for(;a.length&&s<r;)t=void 0,t=a.shift(),h(t);d()}catch(t){n.error(t)}var t})))};return t.subscribe(nt(n,p,(function(){f=!0,d()}))),function(){}}(n,r,t,e)})))}var ct=Array.isArray;var ut=["addListener","removeListener"],at=["addEventListener","removeEventListener"],st=["on","off"];function lt(t,n,e,r){if(p(e)&&(r=e,e=void 0),r)return lt(t,n,e).pipe((i=r,rt((function(t){return function(t,n){return ct(n)?t.apply(void 0,s([],a(n))):t(n)}(i,t)}))));var i,o=a(function(t){return p(t.addEventListener)&&p(t.removeEventListener)}(t)?at.map((function(r){return function(i){return t[r](n,i,e)}})):function(t){return p(t.addListener)&&p(t.removeListener)}(t)?ut.map(ft(t,n)):function(t){return p(t.on)&&p(t.off)}(t)?st.map(ft(t,n)):[],2),c=o[0],u=o[1];if(!c&&d(t))return ot((function(t){return lt(t,n,e)}))(Z(t));if(!c)throw new TypeError("Invalid event target");return new X((function(t){var n=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.next(1<n.length?n:n[0])};return c(n),function(){return u(n)}}))}function ft(t,n){return function(e){return function(r){return t[e](n,r)}}}var dt=function(t){function n(n,e){return t.call(this)||this}return o(n,t),n.prototype.schedule=function(t,n){return void 0===n&&(n=0),this},n}(m),pt={setInterval:function(t,n){for(var e=[],r=2;r<arguments.length;r++)e[r-2]=arguments[r];var i=pt.delegate;return(null==i?void 0:i.setInterval)?i.setInterval.apply(i,s([t,n],a(e))):setInterval.apply(void 0,s([t,n],a(e)))},clearInterval:function(t){var n=pt.delegate;return((null==n?void 0:n.clearInterval)||clearInterval)(t)},delegate:void 0},ht=function(t){function n(n,e){var r=t.call(this,n,e)||this;return r.scheduler=n,r.work=e,r.pending=!1,r}return o(n,t),n.prototype.schedule=function(t,n){if(void 0===n&&(n=0),this.closed)return this;this.state=t;var e=this.id,r=this.scheduler;return null!=e&&(this.id=this.recycleAsyncId(r,e,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(r,this.id,n),this},n.prototype.requestAsyncId=function(t,n,e){return void 0===e&&(e=0),pt.setInterval(t.flush.bind(t,this),e)},n.prototype.recycleAsyncId=function(t,n,e){if(void 0===e&&(e=0),null!=e&&this.delay===e&&!1===this.pending)return n;pt.clearInterval(n)},n.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var e=this._execute(t,n);if(e)return e;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},n.prototype._execute=function(t,n){var e,r=!1;try{this.work(t)}catch(t){r=!0,e=t||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),e},n.prototype.unsubscribe=function(){if(!this.closed){var n=this.id,e=this.scheduler,r=e.actions;this.work=this.state=this.scheduler=null,this.pending=!1,b(r,this),null!=n&&(this.id=this.recycleAsyncId(e,n,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},n}(dt),vt={now:function(){return(vt.delegate||Date).now()},delegate:void 0},yt=function(){function t(n,e){void 0===e&&(e=t.now),this.schedulerActionCtor=n,this.now=e}return t.prototype.schedule=function(t,n,e){return void 0===n&&(n=0),new this.schedulerActionCtor(this,t).schedule(e,n)},t.now=vt.now,t}(),bt=new(function(t){function n(n,e){void 0===e&&(e=yt.now);var r=t.call(this,n,e)||this;return r.actions=[],r._active=!1,r._scheduled=void 0,r}return o(n,t),n.prototype.flush=function(t){var n=this.actions;if(this._active)n.push(t);else{var e;this._active=!0;do{if(e=t.execute(t.state,t.delay))break}while(t=n.shift());if(this._active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}}},n}(yt))(ht),mt=bt;function wt(t,n){return void 0===n&&(n=0),tt((function(e,r){e.subscribe(nt(r,(function(e){return it(r,t,(function(){return r.next(e)}),n)}),(function(){return it(r,t,(function(){return r.complete()}),n)}),(function(e){return it(r,t,(function(){return r.error(e)}),n)})))}))}function gt(t,n){return void 0===n&&(n=0),tt((function(e,r){r.add(t.schedule((function(){return e.subscribe(r)}),n))}))}function xt(t,n){if(!t)throw new Error("Iterable cannot be null");return new X((function(e){it(e,n,(function(){var r=t[Symbol.asyncIterator]();it(e,n,(function(){r.next().then((function(t){t.done?e.complete():e.next(t.value)}))}),0,!0)}))}))}function St(t,n){return n?function(t,n){if(null!=t){if(q(t))return function(t,n){return Z(t).pipe(gt(n),wt(n))}(t,n);if(d(t))return function(t,n){return new X((function(e){var r=0;return n.schedule((function(){r===t.length?e.complete():(e.next(t[r++]),e.closed||this.schedule())}))}))}(t,n);if(h(t))return function(t,n){return Z(t).pipe(gt(n),wt(n))}(t,n);if(G(t))return xt(t,n);if(Q(t))return function(t,n){return new X((function(e){var r;return it(e,n,(function(){r=t[K](),it(e,n,(function(){var t,n,i;try{n=(t=r.next()).value,i=t.done}catch(t){return void e.error(t)}i?e.complete():e.next(n)}),0,!0)})),function(){return p(null==r?void 0:r.return)&&r.return()}}))}(t,n);if(W(t))return function(t,n){return xt(V(t),n)}(t,n)}throw J(t)}(t,n):Z(t)}var kt=function(t,n,e,r,i,o,c,u,a,s){this.id=void 0,this.parkingHash=void 0,this.city=void 0,this.timeOccupied=void 0,this.zone=void 0,this.tariff=void 0,this.penaltyIndex=void 0,this.maxTime=void 0,this.locationX=void 0,this.locationY=void 0,this.id=t,this.parkingHash=n,this.timeOccupied=e,this.zone=r,this.tariff=i,3===this.zone?(this.penaltyIndex=1,this.maxTime=0):(this.penaltyIndex=o,this.maxTime=c),this.city=u,this.locationX=a,this.locationY=s};function Et(){r();var t,n,e=function(){var t=r(),n=new Date,e=360*n.getHours(),i=60*n.getMinutes(),o=n.getSeconds()+e+i,c=t.parkingSpot.timeOccupied.split(":",3);return o-(360*parseInt(c[0])+60*parseInt(c[1])+parseInt(c[2]))-1}(),i=(t=1e3,void 0===t&&(t=0),void 0===n&&(n=bt),t<0&&(t=0),function(t,n,e){void 0===t&&(t=0),void 0===e&&(e=mt);var r,i=-1;return null!=n&&((r=n)&&p(r.schedule)?e=n:i=n),new X((function(n){var r=function(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;r<0&&(r=0);var o=0;return e.schedule((function(){n.closed||(n.next(o++),0<=i?this.schedule(void 0,i):n.complete())}),r)}))}(t,t,n)).pipe(rt((function(t){return function(t,n){var e=r(),i=["","",0,!1],o=!1;t+=n,i[0]="".concat(Math.floor(t/360),":").concat(Math.floor(t%360/60),":").concat(t%360%60);var c=e.parkingSpot.tariff;if(e.parkingSpot.zone<3&&e.parkingSpot.maxTime<t)c*=e.parkingSpot.penaltyIndex,o=!0;else{var u=e.parkingSpot.maxTime-t;i[1]="".concat(Math.floor(u/360),":").concat(Math.floor(u%360/60),":").concat(u%360%60)}return i[2]=Math.round(.2*c*t*100)/100,i[3]=o,i}(e,t)}))).subscribe((function(t){!function(t){var n=r(),e=t[0];n.price=t[2];var i=document.getElementById("timeSpentLabel"),o=document.getElementById("priceLabel"),c=document.getElementById("remainingTimeLabel");t[3]?(i.classList.add("infoLabelPenalty"),o.classList.add("infoLabelPenalty"),c.innerHTML="".concat("You have exceeded the time limit."),c.classList.add("infoLabelPenalty")):c.innerHTML="".concat("Remaining time until penalty kicks in: ").concat(t[1]),i.innerHTML="".concat("Duration: ").concat(e),o.innerHTML="".concat("Price: ").concat(n.price," ").concat("RSD")}(t)}));return i}var Lt=r();function Tt(t){Lt.currentTab!==t&&(document.getElementById(Lt.currentTab).classList.remove("selectedTab"),document.getElementById(t).classList.add("selectedTab"),Lt.currentTab=t,"finder-tab"===Lt.currentTab?_t():It())}function _t(){var t=document.getElementsByClassName("contentDiv")[0];t.childNodes.forEach((function(n){t.removeChild(n)}))}function It(){var n=document.getElementsByClassName("contentDiv")[0];n.childNodes.forEach((function(t){n.removeChild(t)}));var e,i,o,c=document.createElement("div");if(c.classList.add("parkingSpotBox"),Lt.parked&&c.classList.add("parkingSpotBoxAddition"),n.appendChild(c),Lt.parked){var u=document.createElement("div");u.classList.add("infoBox"),(l=document.createElement("label")).setAttribute("id","timeSpentLabel"),l.classList.add("infoLabel"),u.appendChild(l),(l=document.createElement("label")).setAttribute("id","priceLabel"),l.classList.add("infoLabel"),u.appendChild(l),(l=document.createElement("label")).setAttribute("id","remainingTimeLabel"),l.classList.add("infoLabel"),u.appendChild(l),c.appendChild(u);var a=document.createElement("button");a.innerHTML="Pay",c.appendChild(a);var s=Et();a.addEventListener("click",(function(n){!function(n){n.unsubscribe(),function(){var n=r(),e="".concat(t,"/parkings/").concat(n.parkingSpot.id);St(fetch(e,{method:"PUT",headers:{"Content-type":"application/json"},body:JSON.stringify({id:n.parkingSpot.id,code:n.parkingSpot.parkingHash,city:n.parkingSpot.city,zone:n.parkingSpot.zone,tariff:n.parkingSpot.tariff,penaltyIndex:n.parkingSpot.penaltyIndex,maxTime:n.parkingSpot.maxTime,locationX:n.parkingSpot.locationX,locationY:n.parkingSpot.locationY,occupied:!1,timeOccupied:null})})),n.parkingSpot=null}();var e=r(),i="Parking time ended, your vehicle is on the way. Thank you for using our services.\nEstimated price: "+e.price;alert(i),e.parked=!1,It()}(s)}))}else{var l;(l=document.createElement("label")).classList.add("enterCodeLabel"),l.innerHTML="".concat("Enter your code here:"),c.appendChild(l);var f=document.createElement("input");f.maxLength=9,c.appendChild(f),lt(f,"input").pipe((void 0===o&&(o=bt),tt((function(t,n){var e=null,r=null,i=null,c=function(){if(e){e.unsubscribe(),e=null;var t=r;r=null,n.next(t)}};function u(){var t=i+500,r=o.now();if(r<t)return e=this.schedule(void 0,t-r),void n.add(e);c()}t.subscribe(nt(n,(function(t){r=t,i=o.now(),e||(e=o.schedule(u,500),n.add(e))}),(function(){c(),n.complete()}),void 0,(function(){r=e=null})))}))),rt((function(t){return t.target.value})),(i=function(t){return 9==t.length},tt((function(t,n){var e=0;t.subscribe(nt(n,(function(t){return i.call(void 0,t,e++)&&n.next(t)})))}))),(e=function(n){return e=n,r="".concat(t,"/parkings/?code=").concat(e),St(fetch(r).then((function(t){if(t.ok)return t.json();throw new Error("Parking not found")})).catch((function(t){return console.log("Parking spot not found")})));var e,r},tt((function(t,n){var r=null,i=!1,o=function(){return i&&!r&&n.complete()};t.subscribe(nt(n,(function(t){null==r||r.unsubscribe(),Z(e(t)).subscribe(r=nt(n,(function(t){return n.next(t)}),(function(){r=null,o()})))}),(function(){i=!0,o()})))})))).subscribe((function(t){if(!0===t[0].occupied){var n=r();n.parked=!0,n.parkingSpot=new kt(t[0].id,t[0].parkingHash,t[0].timeOccupied,t[0].zone,t[0].tariff,t[0].penaltyIndex,t[0].maxTime,t[0].city,t[0].locationX,t[0].locationY),It()}else alert("This is not your parking spot.")}))}}r(),function(t){var n=document.createElement("div");n.classList.add("mainDiv"),t.appendChild(n);var e=document.createElement("div");e.classList.add("footer");var r=document.createElement("p");r.innerHTML="Â© Powered by Elfak",e.appendChild(r),t.appendChild(e);var i=document.createElement("div");i.classList.add("centerDiv"),n.appendChild(i);var o=document.createElement("div");o.classList.add("optionsDiv"),i.appendChild(o);var c=document.createElement("div");c.classList.add("contentDiv"),i.appendChild(c);var u=document.createElement("div");u.classList.add("tabsDiv"),o.appendChild(u);var a=document.createElement("div");a.classList.add("tab"),a.classList.add("selectedTab"),a.innerHTML="Find parking",a.setAttribute("id","finder-tab"),a.addEventListener("click",(function(t){Tt("finder-tab")})),u.appendChild(a),(a=document.createElement("div")).classList.add("tab"),a.innerHTML="Check status",a.setAttribute("id","checker-tab"),a.addEventListener("click",(function(t){Tt("checker-tab")})),u.appendChild(a);var s=document.createElement("div");s.classList.add("hrLine"),o.appendChild(s),_t()}(document.body)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QyxhQUFhLEtBQUssZUFDdEJxQyxFQUFJOUosaUJBQWlCLFNBQVMsU0FBQzJILEdBQzNCZixHQUFZLGNBQ2hCLElBQ0FpRCxFQUFRdEMsWUFBWXVDLEdBRXBCLElBQU1DLEVBQWlDMUQsU0FBU2lCLGNBQWMsT0FDOUR5QyxFQUFldEQsVUFBVWxRLElBQUksVUFDN0JxVCxFQUFXckMsWUFBWXdDLEdBR3ZCakQsSUFFSixDSXJEQWtELENBQUszRCxTQUFTdFcsSyIsInNvdXJjZXMiOlsid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL3NyYy9lbnZpcm9ubWVudHMudHMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vc3JjL21vZGVscy9jbGllbnRTdGF0ZS50cyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvdHNsaWIvdHNsaWIuZXM2LmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzQXJyYXlMaWtlLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNQcm9taXNlLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL1Vuc3Vic2NyaXB0aW9uRXJyb3IuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvY3JlYXRlRXJyb3JDbGFzcy5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9hcnJSZW1vdmUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmlwdGlvbi5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvY29uZmlnLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvdGltZW91dFByb3ZpZGVyLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3JlcG9ydFVuaGFuZGxlZEVycm9yLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL25vb3AuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL05vdGlmaWNhdGlvbkZhY3Rvcmllcy5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9lcnJvckNvbnRleHQuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL1N1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3N5bWJvbC9vYnNlcnZhYmxlLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lkZW50aXR5LmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL3BpcGUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL09ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZS5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0FzeW5jSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvdGhyb3dVbm9ic2VydmFibGVFcnJvci5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc3ltYm9sL2l0ZXJhdG9yLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2lzSXRlcmFibGUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29ic2VydmFibGUvaW5uZXJGcm9tLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC91dGlsL2xpZnQuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9PcGVyYXRvclN1YnNjcmliZXIuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tYXAuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3V0aWwvZXhlY3V0ZVNjaGVkdWxlLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvbWVyZ2VNYXAuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9tZXJnZUludGVybmFscy5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9tYXBPbmVPck1hbnlBcmdzLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb21FdmVudC5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL0FjdGlvbi5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2ludGVydmFsUHJvdmlkZXIuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc3luY0FjdGlvbi5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlci5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvU2NoZWR1bGVyLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZXIvYXN5bmMuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlci9Bc3luY1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL29ic2VydmVPbi5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3N1YnNjcmliZU9uLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVBc3luY0l0ZXJhYmxlLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2Zyb20uanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZWQuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZU9ic2VydmFibGUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL3NjaGVkdWxlZC9zY2hlZHVsZUFycmF5LmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVQcm9taXNlLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL25vZGVfbW9kdWxlcy9yeGpzL2Rpc3QvZXNtNS9pbnRlcm5hbC9zY2hlZHVsZWQvc2NoZWR1bGVJdGVyYWJsZS5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvc2NoZWR1bGVkL3NjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlLmpzIiwid2VicGFjazovL3BhcmtpbmdmaW5kZXItcnhqcy8uL3NyYy9tb2RlbHMvUGFya2luZ1Nwb3QudHMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vc3JjL2NvbnRyb2xsZXIvb2JzZXJ2YWJsZS50cyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9pbnRlcnZhbC5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS90aW1lci5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc1NjaGVkdWxlci5qcyIsIndlYnBhY2s6Ly9wYXJraW5nZmluZGVyLXJ4anMvLi9ub2RlX21vZHVsZXMvcnhqcy9kaXN0L2VzbTUvaW50ZXJuYWwvdXRpbC9pc0RhdGUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vc3JjL2RyYXdpbmcudHMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9zd2l0Y2hNYXAuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9maWx0ZXIuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vbm9kZV9tb2R1bGVzL3J4anMvZGlzdC9lc201L2ludGVybmFsL29wZXJhdG9ycy9kZWJvdW5jZVRpbWUuanMiLCJ3ZWJwYWNrOi8vcGFya2luZ2ZpbmRlci1yeGpzLy4vc3JjL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBlbnZpcm9ubWVudHMgPSB7XHJcbiAgICBjb2RlTGVuZ3RoIDogOSxcclxuICAgIFVSTCA6IFwiaHR0cDovL2xvY2FsaG9zdDozMDAwXCIsXHJcbiAgICBpbml0aWFsVGFiIDogXCJmaW5kZXItdGFiXCIsXHJcbiAgICBjb2RlRXJyb3I6IFwiUGFya2luZyBzcG90IG5vdCBmb3VuZFwiLFxyXG4gICAgZm9vdGVyOiBcIsKpIFBvd2VyZWQgYnkgRWxmYWtcIixcclxuICAgIGxhYmVsRW50ZXJDb2RlU3RyaW5nOlwiRW50ZXIgeW91ciBjb2RlIGhlcmU6XCIsXHJcbiAgICBsYWJlbFRpbWVTdHJpbmc6XCJEdXJhdGlvbjogXCIsXHJcbiAgICBsYWJlbFByaWNlU3RyaW5nOlwiUHJpY2U6IFwiLFxyXG4gICAgbGFiZWxSZW1haW5pbmdUaW1lU3RyaW5nOiBcIlJlbWFpbmluZyB0aW1lIHVudGlsIHBlbmFsdHkga2lja3MgaW46IFwiLFxyXG4gICAgbGFiZWxSZW1haW5pbmdUaW1lUGVuYWx0eVN0cmluZzogXCJZb3UgaGF2ZSBleGNlZWRlZCB0aGUgdGltZSBsaW1pdC5cIixcclxuICAgIHByaWNlUGVyU2Vjb25kOiAwLjIsXHJcbiAgICBjdXJyZW5jeTogXCJSU0RcIixcclxuICAgIHBheW1lbnRJbmZvOiBcIlBhcmtpbmcgdGltZSBlbmRlZCwgeW91ciB2ZWhpY2xlIGlzIG9uIHRoZSB3YXkuIFRoYW5rIHlvdSBmb3IgdXNpbmcgb3VyIHNlcnZpY2VzLlxcbkVzdGltYXRlZCBwcmljZTogXCIsXHJcbiAgICBmaW5kUGFya2luZ0luZm9TdHJpbmc6IFwiUGxlYXNlIHNlbGVjdCB5b3VyIGxvY2F0aW9uIHRvIGZpbmQgbmVhcmJ5IHBhcmtpbmcuXCIsXHJcbn07IiwiaW1wb3J0IHtlbnZpcm9ubWVudHN9IGZyb20gXCIuLi9lbnZpcm9ubWVudHNcIjtcclxuaW1wb3J0IHsgUGFya2luZ1Nwb3QgfSBmcm9tIFwiLi9QYXJraW5nU3BvdFwiO1xyXG5cclxubGV0IHN0YXRlOiBjbGllbnRTdGF0ZSA9IHVuZGVmaW5lZDtcclxuXHJcbmNsYXNzIGNsaWVudFN0YXRle1xyXG4gICAgY3VycmVudFRhYjogc3RyaW5nO1xyXG4gICAgcGFya2VkOmJvb2xlYW47XHJcbiAgICBwYXJraW5nU3BvdDogUGFya2luZ1Nwb3Q7XHJcbiAgICBwcmljZTogbnVtYmVyO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKGN1cnJUYWI6c3RyaW5nKXtcclxuICAgICAgICB0aGlzLmN1cnJlbnRUYWIgPSBjdXJyVGFiO1xyXG4gICAgICAgIHRoaXMucGFya2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5wYXJraW5nU3BvdCA9IG51bGw7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVDbGllbnQoKTogY2xpZW50U3RhdGV7XHJcbiAgICBpZihzdGF0ZSA9PT0gdW5kZWZpbmVkKXtcclxuICAgICAgICBzdGF0ZSA9IG5ldyBjbGllbnRTdGF0ZShlbnZpcm9ubWVudHMuaW5pdGlhbFRhYik7XHJcbiAgICB9ICAgIFxyXG4gICAgcmV0dXJuIHN0YXRlO1xyXG59XHJcblxyXG4vL2V4cG9ydCBjb25zdCBzdGF0ZSA9IG5ldyBjbGllbnRTdGF0ZShlbnZpcm9ubWVudHMuaW5pdGlhbFRhYik7IiwiLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxyXG5Db3B5cmlnaHQgKGMpIE1pY3Jvc29mdCBDb3Jwb3JhdGlvbi5cclxuXHJcblBlcm1pc3Npb24gdG8gdXNlLCBjb3B5LCBtb2RpZnksIGFuZC9vciBkaXN0cmlidXRlIHRoaXMgc29mdHdhcmUgZm9yIGFueVxyXG5wdXJwb3NlIHdpdGggb3Igd2l0aG91dCBmZWUgaXMgaGVyZWJ5IGdyYW50ZWQuXHJcblxyXG5USEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiIEFORCBUSEUgQVVUSE9SIERJU0NMQUlNUyBBTEwgV0FSUkFOVElFUyBXSVRIXHJcblJFR0FSRCBUTyBUSElTIFNPRlRXQVJFIElOQ0xVRElORyBBTEwgSU1QTElFRCBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWVxyXG5BTkQgRklUTkVTUy4gSU4gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUiBCRSBMSUFCTEUgRk9SIEFOWSBTUEVDSUFMLCBESVJFQ1QsXHJcbklORElSRUNULCBPUiBDT05TRVFVRU5USUFMIERBTUFHRVMgT1IgQU5ZIERBTUFHRVMgV0hBVFNPRVZFUiBSRVNVTFRJTkcgRlJPTVxyXG5MT1NTIE9GIFVTRSwgREFUQSBPUiBQUk9GSVRTLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgTkVHTElHRU5DRSBPUlxyXG5PVEhFUiBUT1JUSU9VUyBBQ1RJT04sIEFSSVNJTkcgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgVVNFIE9SXHJcblBFUkZPUk1BTkNFIE9GIFRISVMgU09GVFdBUkUuXHJcbioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXHJcbi8qIGdsb2JhbCBSZWZsZWN0LCBQcm9taXNlICovXHJcblxyXG52YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHxcclxuICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8XHJcbiAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGIsIHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBpZiAodHlwZW9mIGIgIT09IFwiZnVuY3Rpb25cIiAmJiBiICE9PSBudWxsKVxyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDbGFzcyBleHRlbmRzIHZhbHVlIFwiICsgU3RyaW5nKGIpICsgXCIgaXMgbm90IGEgY29uc3RydWN0b3Igb3IgbnVsbFwiKTtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpIHtcclxuICAgIHZhciBjID0gYXJndW1lbnRzLmxlbmd0aCwgciA9IGMgPCAzID8gdGFyZ2V0IDogZGVzYyA9PT0gbnVsbCA/IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwga2V5KSA6IGRlc2MsIGQ7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QuZGVjb3JhdGUgPT09IFwiZnVuY3Rpb25cIikgciA9IFJlZmxlY3QuZGVjb3JhdGUoZGVjb3JhdG9ycywgdGFyZ2V0LCBrZXksIGRlc2MpO1xyXG4gICAgZWxzZSBmb3IgKHZhciBpID0gZGVjb3JhdG9ycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkgaWYgKGQgPSBkZWNvcmF0b3JzW2ldKSByID0gKGMgPCAzID8gZChyKSA6IGMgPiAzID8gZCh0YXJnZXQsIGtleSwgcikgOiBkKHRhcmdldCwga2V5KSkgfHwgcjtcclxuICAgIHJldHVybiBjID4gMyAmJiByICYmIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgciksIHI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3BhcmFtKHBhcmFtSW5kZXgsIGRlY29yYXRvcikge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uICh0YXJnZXQsIGtleSkgeyBkZWNvcmF0b3IodGFyZ2V0LCBrZXksIHBhcmFtSW5kZXgpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKSB7XHJcbiAgICBpZiAodHlwZW9mIFJlZmxlY3QgPT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIFJlZmxlY3QubWV0YWRhdGEgPT09IFwiZnVuY3Rpb25cIikgcmV0dXJuIFJlZmxlY3QubWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdGVyKHRoaXNBcmcsIF9hcmd1bWVudHMsIFAsIGdlbmVyYXRvcikge1xyXG4gICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgdmFyIF9fY3JlYXRlQmluZGluZyA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgbSwgaywgazIpIHtcclxuICAgIGlmIChrMiA9PT0gdW5kZWZpbmVkKSBrMiA9IGs7XHJcbiAgICB2YXIgZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IobSwgayk7XHJcbiAgICBpZiAoIWRlc2MgfHwgKFwiZ2V0XCIgaW4gZGVzYyA/ICFtLl9fZXNNb2R1bGUgOiBkZXNjLndyaXRhYmxlIHx8IGRlc2MuY29uZmlndXJhYmxlKSkge1xyXG4gICAgICAgIGRlc2MgPSB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24oKSB7IHJldHVybiBtW2tdOyB9IH07XHJcbiAgICB9XHJcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkobywgazIsIGRlc2MpO1xyXG59KSA6IChmdW5jdGlvbihvLCBtLCBrLCBrMikge1xyXG4gICAgaWYgKGsyID09PSB1bmRlZmluZWQpIGsyID0gaztcclxuICAgIG9bazJdID0gbVtrXTtcclxufSk7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIG8pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKHAgIT09IFwiZGVmYXVsdFwiICYmICFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobywgcCkpIF9fY3JlYXRlQmluZGluZyhvLCBtLCBwKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gXCJudW1iZXJcIikgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gXCJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLlwiIDogXCJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuLyoqIEBkZXByZWNhdGVkICovXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZEFycmF5cygpIHtcclxuICAgIGZvciAodmFyIHMgPSAwLCBpID0gMCwgaWwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWw7IGkrKykgcyArPSBhcmd1bWVudHNbaV0ubGVuZ3RoO1xyXG4gICAgZm9yICh2YXIgciA9IEFycmF5KHMpLCBrID0gMCwgaSA9IDA7IGkgPCBpbDsgaSsrKVxyXG4gICAgICAgIGZvciAodmFyIGEgPSBhcmd1bWVudHNbaV0sIGogPSAwLCBqbCA9IGEubGVuZ3RoOyBqIDwgamw7IGorKywgaysrKVxyXG4gICAgICAgICAgICByW2tdID0gYVtqXTtcclxuICAgIHJldHVybiByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19zcHJlYWRBcnJheSh0bywgZnJvbSwgcGFjaykge1xyXG4gICAgaWYgKHBhY2sgfHwgYXJndW1lbnRzLmxlbmd0aCA9PT0gMikgZm9yICh2YXIgaSA9IDAsIGwgPSBmcm9tLmxlbmd0aCwgYXI7IGkgPCBsOyBpKyspIHtcclxuICAgICAgICBpZiAoYXIgfHwgIShpIGluIGZyb20pKSB7XHJcbiAgICAgICAgICAgIGlmICghYXIpIGFyID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoZnJvbSwgMCwgaSk7XHJcbiAgICAgICAgICAgIGFyW2ldID0gZnJvbVtpXTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdG8uY29uY2F0KGFyIHx8IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGZyb20pKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxudmFyIF9fc2V0TW9kdWxlRGVmYXVsdCA9IE9iamVjdC5jcmVhdGUgPyAoZnVuY3Rpb24obywgdikge1xyXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG8sIFwiZGVmYXVsdFwiLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2IH0pO1xyXG59KSA6IGZ1bmN0aW9uKG8sIHYpIHtcclxuICAgIG9bXCJkZWZhdWx0XCJdID0gdjtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydFN0YXIobW9kKSB7XHJcbiAgICBpZiAobW9kICYmIG1vZC5fX2VzTW9kdWxlKSByZXR1cm4gbW9kO1xyXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xyXG4gICAgaWYgKG1vZCAhPSBudWxsKSBmb3IgKHZhciBrIGluIG1vZCkgaWYgKGsgIT09IFwiZGVmYXVsdFwiICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSBfX2NyZWF0ZUJpbmRpbmcocmVzdWx0LCBtb2QsIGspO1xyXG4gICAgX19zZXRNb2R1bGVEZWZhdWx0KHJlc3VsdCwgbW9kKTtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEdldChyZWNlaXZlciwgc3RhdGUsIGtpbmQsIGYpIHtcclxuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcclxuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHJlYWQgcHJpdmF0ZSBtZW1iZXIgZnJvbSBhbiBvYmplY3Qgd2hvc2UgY2xhc3MgZGlkIG5vdCBkZWNsYXJlIGl0XCIpO1xyXG4gICAgcmV0dXJuIGtpbmQgPT09IFwibVwiID8gZiA6IGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyKSA6IGYgPyBmLnZhbHVlIDogc3RhdGUuZ2V0KHJlY2VpdmVyKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fY2xhc3NQcml2YXRlRmllbGRTZXQocmVjZWl2ZXIsIHN0YXRlLCB2YWx1ZSwga2luZCwgZikge1xyXG4gICAgaWYgKGtpbmQgPT09IFwibVwiKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBtZXRob2QgaXMgbm90IHdyaXRhYmxlXCIpO1xyXG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xyXG4gICAgaWYgKHR5cGVvZiBzdGF0ZSA9PT0gXCJmdW5jdGlvblwiID8gcmVjZWl2ZXIgIT09IHN0YXRlIHx8ICFmIDogIXN0YXRlLmhhcyhyZWNlaXZlcikpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3Qgd3JpdGUgcHJpdmF0ZSBtZW1iZXIgdG8gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcclxuICAgIHJldHVybiAoa2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIsIHZhbHVlKSA6IGYgPyBmLnZhbHVlID0gdmFsdWUgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSksIHZhbHVlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19jbGFzc1ByaXZhdGVGaWVsZEluKHN0YXRlLCByZWNlaXZlcikge1xyXG4gICAgaWYgKHJlY2VpdmVyID09PSBudWxsIHx8ICh0eXBlb2YgcmVjZWl2ZXIgIT09IFwib2JqZWN0XCIgJiYgdHlwZW9mIHJlY2VpdmVyICE9PSBcImZ1bmN0aW9uXCIpKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHVzZSAnaW4nIG9wZXJhdG9yIG9uIG5vbi1vYmplY3RcIik7XHJcbiAgICByZXR1cm4gdHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciA9PT0gc3RhdGUgOiBzdGF0ZS5oYXMocmVjZWl2ZXIpO1xyXG59XHJcbiIsImV4cG9ydCB2YXIgaXNBcnJheUxpa2UgPSAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHggJiYgdHlwZW9mIHgubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgeCAhPT0gJ2Z1bmN0aW9uJzsgfSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzQXJyYXlMaWtlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRnVuY3Rpb24uanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gXCIuL2lzRnVuY3Rpb25cIjtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzUHJvbWlzZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHZhbHVlLnRoZW4pO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzUHJvbWlzZS5qcy5tYXAiLCJpbXBvcnQgeyBjcmVhdGVFcnJvckNsYXNzIH0gZnJvbSAnLi9jcmVhdGVFcnJvckNsYXNzJztcclxuZXhwb3J0IHZhciBVbnN1YnNjcmlwdGlvbkVycm9yID0gY3JlYXRlRXJyb3JDbGFzcyhmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gVW5zdWJzY3JpcHRpb25FcnJvckltcGwoZXJyb3JzKSB7XHJcbiAgICAgICAgX3N1cGVyKHRoaXMpO1xyXG4gICAgICAgIHRoaXMubWVzc2FnZSA9IGVycm9yc1xyXG4gICAgICAgICAgICA/IGVycm9ycy5sZW5ndGggKyBcIiBlcnJvcnMgb2NjdXJyZWQgZHVyaW5nIHVuc3Vic2NyaXB0aW9uOlxcblwiICsgZXJyb3JzLm1hcChmdW5jdGlvbiAoZXJyLCBpKSB7IHJldHVybiBpICsgMSArIFwiKSBcIiArIGVyci50b1N0cmluZygpOyB9KS5qb2luKCdcXG4gICcpXHJcbiAgICAgICAgICAgIDogJyc7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gJ1Vuc3Vic2NyaXB0aW9uRXJyb3InO1xyXG4gICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xyXG4gICAgfTtcclxufSk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVVuc3Vic2NyaXB0aW9uRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUVycm9yQ2xhc3MoY3JlYXRlSW1wbCkge1xyXG4gICAgdmFyIF9zdXBlciA9IGZ1bmN0aW9uIChpbnN0YW5jZSkge1xyXG4gICAgICAgIEVycm9yLmNhbGwoaW5zdGFuY2UpO1xyXG4gICAgICAgIGluc3RhbmNlLnN0YWNrID0gbmV3IEVycm9yKCkuc3RhY2s7XHJcbiAgICB9O1xyXG4gICAgdmFyIGN0b3JGdW5jID0gY3JlYXRlSW1wbChfc3VwZXIpO1xyXG4gICAgY3RvckZ1bmMucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xyXG4gICAgY3RvckZ1bmMucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvckZ1bmM7XHJcbiAgICByZXR1cm4gY3RvckZ1bmM7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3JlYXRlRXJyb3JDbGFzcy5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gYXJyUmVtb3ZlKGFyciwgaXRlbSkge1xyXG4gICAgaWYgKGFycikge1xyXG4gICAgICAgIHZhciBpbmRleCA9IGFyci5pbmRleE9mKGl0ZW0pO1xyXG4gICAgICAgIDAgPD0gaW5kZXggJiYgYXJyLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXJyUmVtb3ZlLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vdXRpbC9pc0Z1bmN0aW9uJztcclxuaW1wb3J0IHsgVW5zdWJzY3JpcHRpb25FcnJvciB9IGZyb20gJy4vdXRpbC9VbnN1YnNjcmlwdGlvbkVycm9yJztcclxuaW1wb3J0IHsgYXJyUmVtb3ZlIH0gZnJvbSAnLi91dGlsL2FyclJlbW92ZSc7XHJcbnZhciBTdWJzY3JpcHRpb24gPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU3Vic2NyaXB0aW9uKGluaXRpYWxUZWFyZG93bikge1xyXG4gICAgICAgIHRoaXMuaW5pdGlhbFRlYXJkb3duID0gaW5pdGlhbFRlYXJkb3duO1xyXG4gICAgICAgIHRoaXMuY2xvc2VkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5fcGFyZW50YWdlID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9maW5hbGl6ZXJzID0gbnVsbDtcclxuICAgIH1cclxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2EsIGVfMiwgX2I7XHJcbiAgICAgICAgdmFyIGVycm9ycztcclxuICAgICAgICBpZiAoIXRoaXMuY2xvc2VkKSB7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VkID0gdHJ1ZTtcclxuICAgICAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XHJcbiAgICAgICAgICAgIGlmIChfcGFyZW50YWdlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoX3BhcmVudGFnZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfcGFyZW50YWdlXzEgPSBfX3ZhbHVlcyhfcGFyZW50YWdlKSwgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpOyAhX3BhcmVudGFnZV8xXzEuZG9uZTsgX3BhcmVudGFnZV8xXzEgPSBfcGFyZW50YWdlXzEubmV4dCgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFyZW50XzEgPSBfcGFyZW50YWdlXzFfMS52YWx1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudF8xLnJlbW92ZSh0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9wYXJlbnRhZ2VfMV8xICYmICFfcGFyZW50YWdlXzFfMS5kb25lICYmIChfYSA9IF9wYXJlbnRhZ2VfMS5yZXR1cm4pKSBfYS5jYWxsKF9wYXJlbnRhZ2VfMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIF9wYXJlbnRhZ2UucmVtb3ZlKHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHZhciBpbml0aWFsRmluYWxpemVyID0gdGhpcy5pbml0aWFsVGVhcmRvd247XHJcbiAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKGluaXRpYWxGaW5hbGl6ZXIpKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGluaXRpYWxGaW5hbGl6ZXIoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0gZSBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IgPyBlLmVycm9ycyA6IFtlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB2YXIgX2ZpbmFsaXplcnMgPSB0aGlzLl9maW5hbGl6ZXJzO1xyXG4gICAgICAgICAgICBpZiAoX2ZpbmFsaXplcnMpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuX2ZpbmFsaXplcnMgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfZmluYWxpemVyc18xID0gX192YWx1ZXMoX2ZpbmFsaXplcnMpLCBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKTsgIV9maW5hbGl6ZXJzXzFfMS5kb25lOyBfZmluYWxpemVyc18xXzEgPSBfZmluYWxpemVyc18xLm5leHQoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmluYWxpemVyID0gX2ZpbmFsaXplcnNfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY0ZpbmFsaXplcihmaW5hbGl6ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycyA9IGVycm9ycyAhPT0gbnVsbCAmJiBlcnJvcnMgIT09IHZvaWQgMCA/IGVycm9ycyA6IFtdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVyciBpbnN0YW5jZW9mIFVuc3Vic2NyaXB0aW9uRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSBfX3NwcmVhZEFycmF5KF9fc3ByZWFkQXJyYXkoW10sIF9fcmVhZChlcnJvcnMpKSwgX19yZWFkKGVyci5lcnJvcnMpKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9ycy5wdXNoKGVycik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfVxyXG4gICAgICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9maW5hbGl6ZXJzXzFfMSAmJiAhX2ZpbmFsaXplcnNfMV8xLmRvbmUgJiYgKF9iID0gX2ZpbmFsaXplcnNfMS5yZXR1cm4pKSBfYi5jYWxsKF9maW5hbGl6ZXJzXzEpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGVycm9ycykge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuc3Vic2NyaXB0aW9uRXJyb3IoZXJyb3JzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xyXG4gICAgICAgIHZhciBfYTtcclxuICAgICAgICBpZiAodGVhcmRvd24gJiYgdGVhcmRvd24gIT09IHRoaXMpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICBleGVjRmluYWxpemVyKHRlYXJkb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93biBpbnN0YW5jZW9mIFN1YnNjcmlwdGlvbikge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZWFyZG93bi5jbG9zZWQgfHwgdGVhcmRvd24uX2hhc1BhcmVudCh0aGlzKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRlYXJkb3duLl9hZGRQYXJlbnQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAodGhpcy5fZmluYWxpemVycyA9IChfYSA9IHRoaXMuX2ZpbmFsaXplcnMpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IFtdKS5wdXNoKHRlYXJkb3duKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9oYXNQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XHJcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XHJcbiAgICAgICAgcmV0dXJuIF9wYXJlbnRhZ2UgPT09IHBhcmVudCB8fCAoQXJyYXkuaXNBcnJheShfcGFyZW50YWdlKSAmJiBfcGFyZW50YWdlLmluY2x1ZGVzKHBhcmVudCkpO1xyXG4gICAgfTtcclxuICAgIFN1YnNjcmlwdGlvbi5wcm90b3R5cGUuX2FkZFBhcmVudCA9IGZ1bmN0aW9uIChwYXJlbnQpIHtcclxuICAgICAgICB2YXIgX3BhcmVudGFnZSA9IHRoaXMuX3BhcmVudGFnZTtcclxuICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpID8gKF9wYXJlbnRhZ2UucHVzaChwYXJlbnQpLCBfcGFyZW50YWdlKSA6IF9wYXJlbnRhZ2UgPyBbX3BhcmVudGFnZSwgcGFyZW50XSA6IHBhcmVudDtcclxuICAgIH07XHJcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLl9yZW1vdmVQYXJlbnQgPSBmdW5jdGlvbiAocGFyZW50KSB7XHJcbiAgICAgICAgdmFyIF9wYXJlbnRhZ2UgPSB0aGlzLl9wYXJlbnRhZ2U7XHJcbiAgICAgICAgaWYgKF9wYXJlbnRhZ2UgPT09IHBhcmVudCkge1xyXG4gICAgICAgICAgICB0aGlzLl9wYXJlbnRhZ2UgPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KF9wYXJlbnRhZ2UpKSB7XHJcbiAgICAgICAgICAgIGFyclJlbW92ZShfcGFyZW50YWdlLCBwYXJlbnQpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTdWJzY3JpcHRpb24ucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICh0ZWFyZG93bikge1xyXG4gICAgICAgIHZhciBfZmluYWxpemVycyA9IHRoaXMuX2ZpbmFsaXplcnM7XHJcbiAgICAgICAgX2ZpbmFsaXplcnMgJiYgYXJyUmVtb3ZlKF9maW5hbGl6ZXJzLCB0ZWFyZG93bik7XHJcbiAgICAgICAgaWYgKHRlYXJkb3duIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uKSB7XHJcbiAgICAgICAgICAgIHRlYXJkb3duLl9yZW1vdmVQYXJlbnQodGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YnNjcmlwdGlvbi5FTVBUWSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIGVtcHR5ID0gbmV3IFN1YnNjcmlwdGlvbigpO1xyXG4gICAgICAgIGVtcHR5LmNsb3NlZCA9IHRydWU7XHJcbiAgICAgICAgcmV0dXJuIGVtcHR5O1xyXG4gICAgfSkoKTtcclxuICAgIHJldHVybiBTdWJzY3JpcHRpb247XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFN1YnNjcmlwdGlvbiB9O1xyXG5leHBvcnQgdmFyIEVNUFRZX1NVQlNDUklQVElPTiA9IFN1YnNjcmlwdGlvbi5FTVBUWTtcclxuZXhwb3J0IGZ1bmN0aW9uIGlzU3Vic2NyaXB0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gKHZhbHVlIGluc3RhbmNlb2YgU3Vic2NyaXB0aW9uIHx8XHJcbiAgICAgICAgKHZhbHVlICYmICdjbG9zZWQnIGluIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUucmVtb3ZlKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmFkZCkgJiYgaXNGdW5jdGlvbih2YWx1ZS51bnN1YnNjcmliZSkpKTtcclxufVxyXG5mdW5jdGlvbiBleGVjRmluYWxpemVyKGZpbmFsaXplcikge1xyXG4gICAgaWYgKGlzRnVuY3Rpb24oZmluYWxpemVyKSkge1xyXG4gICAgICAgIGZpbmFsaXplcigpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgZmluYWxpemVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaXB0aW9uLmpzLm1hcCIsImV4cG9ydCB2YXIgY29uZmlnID0ge1xyXG4gICAgb25VbmhhbmRsZWRFcnJvcjogbnVsbCxcclxuICAgIG9uU3RvcHBlZE5vdGlmaWNhdGlvbjogbnVsbCxcclxuICAgIFByb21pc2U6IHVuZGVmaW5lZCxcclxuICAgIHVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc6IGZhbHNlLFxyXG4gICAgdXNlRGVwcmVjYXRlZE5leHRDb250ZXh0OiBmYWxzZSxcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29uZmlnLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xyXG5leHBvcnQgdmFyIHRpbWVvdXRQcm92aWRlciA9IHtcclxuICAgIHNldFRpbWVvdXQ6IGZ1bmN0aW9uIChoYW5kbGVyLCB0aW1lb3V0KSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICBmb3IgKHZhciBfaSA9IDI7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xyXG4gICAgICAgICAgICBhcmdzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZGVsZWdhdGUgPSB0aW1lb3V0UHJvdmlkZXIuZGVsZWdhdGU7XHJcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRUaW1lb3V0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWxlZ2F0ZS5zZXRUaW1lb3V0LmFwcGx5KGRlbGVnYXRlLCBfX3NwcmVhZEFycmF5KFtoYW5kbGVyLCB0aW1lb3V0XSwgX19yZWFkKGFyZ3MpKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0LmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbaGFuZGxlciwgdGltZW91dF0sIF9fcmVhZChhcmdzKSkpO1xyXG4gICAgfSxcclxuICAgIGNsZWFyVGltZW91dDogZnVuY3Rpb24gKGhhbmRsZSkge1xyXG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IHRpbWVvdXRQcm92aWRlci5kZWxlZ2F0ZTtcclxuICAgICAgICByZXR1cm4gKChkZWxlZ2F0ZSA9PT0gbnVsbCB8fCBkZWxlZ2F0ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogZGVsZWdhdGUuY2xlYXJUaW1lb3V0KSB8fCBjbGVhclRpbWVvdXQpKGhhbmRsZSk7XHJcbiAgICB9LFxyXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZW91dFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4uL2NvbmZpZyc7XHJcbmltcG9ydCB7IHRpbWVvdXRQcm92aWRlciB9IGZyb20gJy4uL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xyXG5leHBvcnQgZnVuY3Rpb24gcmVwb3J0VW5oYW5kbGVkRXJyb3IoZXJyKSB7XHJcbiAgICB0aW1lb3V0UHJvdmlkZXIuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIG9uVW5oYW5kbGVkRXJyb3IgPSBjb25maWcub25VbmhhbmRsZWRFcnJvcjtcclxuICAgICAgICBpZiAob25VbmhhbmRsZWRFcnJvcikge1xyXG4gICAgICAgICAgICBvblVuaGFuZGxlZEVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aHJvdyBlcnI7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVwb3J0VW5oYW5kbGVkRXJyb3IuanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIG5vb3AoKSB7IH1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bm9vcC5qcy5tYXAiLCJleHBvcnQgdmFyIENPTVBMRVRFX05PVElGSUNBVElPTiA9IChmdW5jdGlvbiAoKSB7IHJldHVybiBjcmVhdGVOb3RpZmljYXRpb24oJ0MnLCB1bmRlZmluZWQsIHVuZGVmaW5lZCk7IH0pKCk7XHJcbmV4cG9ydCBmdW5jdGlvbiBlcnJvck5vdGlmaWNhdGlvbihlcnJvcikge1xyXG4gICAgcmV0dXJuIGNyZWF0ZU5vdGlmaWNhdGlvbignRScsIHVuZGVmaW5lZCwgZXJyb3IpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gY3JlYXRlTm90aWZpY2F0aW9uKCdOJywgdmFsdWUsIHVuZGVmaW5lZCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU5vdGlmaWNhdGlvbihraW5kLCB2YWx1ZSwgZXJyb3IpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAga2luZDoga2luZCxcclxuICAgICAgICB2YWx1ZTogdmFsdWUsXHJcbiAgICAgICAgZXJyb3I6IGVycm9yLFxyXG4gICAgfTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1Ob3RpZmljYXRpb25GYWN0b3JpZXMuanMubWFwIiwiaW1wb3J0IHsgY29uZmlnIH0gZnJvbSAnLi4vY29uZmlnJztcclxudmFyIGNvbnRleHQgPSBudWxsO1xyXG5leHBvcnQgZnVuY3Rpb24gZXJyb3JDb250ZXh0KGNiKSB7XHJcbiAgICBpZiAoY29uZmlnLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpIHtcclxuICAgICAgICB2YXIgaXNSb290ID0gIWNvbnRleHQ7XHJcbiAgICAgICAgaWYgKGlzUm9vdCkge1xyXG4gICAgICAgICAgICBjb250ZXh0ID0geyBlcnJvclRocm93bjogZmFsc2UsIGVycm9yOiBudWxsIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNiKCk7XHJcbiAgICAgICAgaWYgKGlzUm9vdCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSBjb250ZXh0LCBlcnJvclRocm93biA9IF9hLmVycm9yVGhyb3duLCBlcnJvciA9IF9hLmVycm9yO1xyXG4gICAgICAgICAgICBjb250ZXh0ID0gbnVsbDtcclxuICAgICAgICAgICAgaWYgKGVycm9yVGhyb3duKSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGNiKCk7XHJcbiAgICB9XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNhcHR1cmVFcnJvcihlcnIpIHtcclxuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyAmJiBjb250ZXh0KSB7XHJcbiAgICAgICAgY29udGV4dC5lcnJvclRocm93biA9IHRydWU7XHJcbiAgICAgICAgY29udGV4dC5lcnJvciA9IGVycjtcclxuICAgIH1cclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvckNvbnRleHQuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XHJcbmltcG9ydCB7IGlzU3Vic2NyaXB0aW9uLCBTdWJzY3JpcHRpb24gfSBmcm9tICcuL1N1YnNjcmlwdGlvbic7XHJcbmltcG9ydCB7IGNvbmZpZyB9IGZyb20gJy4vY29uZmlnJztcclxuaW1wb3J0IHsgcmVwb3J0VW5oYW5kbGVkRXJyb3IgfSBmcm9tICcuL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xyXG5pbXBvcnQgeyBub29wIH0gZnJvbSAnLi91dGlsL25vb3AnO1xyXG5pbXBvcnQgeyBuZXh0Tm90aWZpY2F0aW9uLCBlcnJvck5vdGlmaWNhdGlvbiwgQ09NUExFVEVfTk9USUZJQ0FUSU9OIH0gZnJvbSAnLi9Ob3RpZmljYXRpb25GYWN0b3JpZXMnO1xyXG5pbXBvcnQgeyB0aW1lb3V0UHJvdmlkZXIgfSBmcm9tICcuL3NjaGVkdWxlci90aW1lb3V0UHJvdmlkZXInO1xyXG5pbXBvcnQgeyBjYXB0dXJlRXJyb3IgfSBmcm9tICcuL3V0aWwvZXJyb3JDb250ZXh0JztcclxudmFyIFN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKFN1YnNjcmliZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBTdWJzY3JpYmVyKGRlc3RpbmF0aW9uKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5pc1N0b3BwZWQgPSBmYWxzZTtcclxuICAgICAgICBpZiAoZGVzdGluYXRpb24pIHtcclxuICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBkZXN0aW5hdGlvbjtcclxuICAgICAgICAgICAgaWYgKGlzU3Vic2NyaXB0aW9uKGRlc3RpbmF0aW9uKSkge1xyXG4gICAgICAgICAgICAgICAgZGVzdGluYXRpb24uYWRkKF90aGlzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgX3RoaXMuZGVzdGluYXRpb24gPSBFTVBUWV9PQlNFUlZFUjtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgU3Vic2NyaWJlci5jcmVhdGUgPSBmdW5jdGlvbiAobmV4dCwgZXJyb3IsIGNvbXBsZXRlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBTYWZlU3Vic2NyaWJlcihuZXh0LCBlcnJvciwgY29tcGxldGUpO1xyXG4gICAgfTtcclxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICBpZiAodGhpcy5pc1N0b3BwZWQpIHtcclxuICAgICAgICAgICAgaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbihuZXh0Tm90aWZpY2F0aW9uKHZhbHVlKSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLl9uZXh0KHZhbHVlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuZXJyb3IgPSBmdW5jdGlvbiAoZXJyKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuaXNTdG9wcGVkKSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVN0b3BwZWROb3RpZmljYXRpb24oZXJyb3JOb3RpZmljYXRpb24oZXJyKSwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2Vycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU3RvcHBlZCkge1xyXG4gICAgICAgICAgICBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKENPTVBMRVRFX05PVElGSUNBVElPTiwgdGhpcyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLmlzU3RvcHBlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvbXBsZXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIFN1YnNjcmliZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pc1N0b3BwZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBfc3VwZXIucHJvdG90eXBlLnVuc3Vic2NyaWJlLmNhbGwodGhpcyk7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24gPSBudWxsO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBTdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dCh2YWx1ZSk7XHJcbiAgICB9O1xyXG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2Vycm9yID0gZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN1YnNjcmliZXI7XHJcbn0oU3Vic2NyaXB0aW9uKSk7XHJcbmV4cG9ydCB7IFN1YnNjcmliZXIgfTtcclxudmFyIF9iaW5kID0gRnVuY3Rpb24ucHJvdG90eXBlLmJpbmQ7XHJcbmZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcclxuICAgIHJldHVybiBfYmluZC5jYWxsKGZuLCB0aGlzQXJnKTtcclxufVxyXG52YXIgQ29uc3VtZXJPYnNlcnZlciA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcikge1xyXG4gICAgICAgIHRoaXMucGFydGlhbE9ic2VydmVyID0gcGFydGlhbE9ic2VydmVyO1xyXG4gICAgfVxyXG4gICAgQ29uc3VtZXJPYnNlcnZlci5wcm90b3R5cGUubmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcclxuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLm5leHQpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBDb25zdW1lck9ic2VydmVyLnByb3RvdHlwZS5lcnJvciA9IGZ1bmN0aW9uIChlcnIpIHtcclxuICAgICAgICB2YXIgcGFydGlhbE9ic2VydmVyID0gdGhpcy5wYXJ0aWFsT2JzZXJ2ZXI7XHJcbiAgICAgICAgaWYgKHBhcnRpYWxPYnNlcnZlci5lcnJvcikge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgcGFydGlhbE9ic2VydmVyLmVycm9yKGVycik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVVbmhhbmRsZWRFcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIENvbnN1bWVyT2JzZXJ2ZXIucHJvdG90eXBlLmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXIgPSB0aGlzLnBhcnRpYWxPYnNlcnZlcjtcclxuICAgICAgICBpZiAocGFydGlhbE9ic2VydmVyLmNvbXBsZXRlKSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVVuaGFuZGxlZEVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQ29uc3VtZXJPYnNlcnZlcjtcclxufSgpKTtcclxudmFyIFNhZmVTdWJzY3JpYmVyID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhTYWZlU3Vic2NyaWJlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIFNhZmVTdWJzY3JpYmVyKG9ic2VydmVyT3JOZXh0LCBlcnJvciwgY29tcGxldGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgICAgIHZhciBwYXJ0aWFsT2JzZXJ2ZXI7XHJcbiAgICAgICAgaWYgKGlzRnVuY3Rpb24ob2JzZXJ2ZXJPck5leHQpIHx8ICFvYnNlcnZlck9yTmV4dCkge1xyXG4gICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0OiAob2JzZXJ2ZXJPck5leHQgIT09IG51bGwgJiYgb2JzZXJ2ZXJPck5leHQgIT09IHZvaWQgMCA/IG9ic2VydmVyT3JOZXh0IDogdW5kZWZpbmVkKSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiBlcnJvciAhPT0gbnVsbCAmJiBlcnJvciAhPT0gdm9pZCAwID8gZXJyb3IgOiB1bmRlZmluZWQsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogY29tcGxldGUgIT09IG51bGwgJiYgY29tcGxldGUgIT09IHZvaWQgMCA/IGNvbXBsZXRlIDogdW5kZWZpbmVkLFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdmFyIGNvbnRleHRfMTtcclxuICAgICAgICAgICAgaWYgKF90aGlzICYmIGNvbmZpZy51c2VEZXByZWNhdGVkTmV4dENvbnRleHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHRfMSA9IE9iamVjdC5jcmVhdGUob2JzZXJ2ZXJPck5leHQpO1xyXG4gICAgICAgICAgICAgICAgY29udGV4dF8xLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudW5zdWJzY3JpYmUoKTsgfTtcclxuICAgICAgICAgICAgICAgIHBhcnRpYWxPYnNlcnZlciA9IHtcclxuICAgICAgICAgICAgICAgICAgICBuZXh0OiBvYnNlcnZlck9yTmV4dC5uZXh0ICYmIGJpbmQob2JzZXJ2ZXJPck5leHQubmV4dCwgY29udGV4dF8xKSxcclxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogb2JzZXJ2ZXJPck5leHQuZXJyb3IgJiYgYmluZChvYnNlcnZlck9yTmV4dC5lcnJvciwgY29udGV4dF8xKSxcclxuICAgICAgICAgICAgICAgICAgICBjb21wbGV0ZTogb2JzZXJ2ZXJPck5leHQuY29tcGxldGUgJiYgYmluZChvYnNlcnZlck9yTmV4dC5jb21wbGV0ZSwgY29udGV4dF8xKSxcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBwYXJ0aWFsT2JzZXJ2ZXIgPSBvYnNlcnZlck9yTmV4dDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBfdGhpcy5kZXN0aW5hdGlvbiA9IG5ldyBDb25zdW1lck9ic2VydmVyKHBhcnRpYWxPYnNlcnZlcik7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIFNhZmVTdWJzY3JpYmVyO1xyXG59KFN1YnNjcmliZXIpKTtcclxuZXhwb3J0IHsgU2FmZVN1YnNjcmliZXIgfTtcclxuZnVuY3Rpb24gaGFuZGxlVW5oYW5kbGVkRXJyb3IoZXJyb3IpIHtcclxuICAgIGlmIChjb25maWcudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZykge1xyXG4gICAgICAgIGNhcHR1cmVFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXBvcnRVbmhhbmRsZWRFcnJvcihlcnJvcik7XHJcbiAgICB9XHJcbn1cclxuZnVuY3Rpb24gZGVmYXVsdEVycm9ySGFuZGxlcihlcnIpIHtcclxuICAgIHRocm93IGVycjtcclxufVxyXG5mdW5jdGlvbiBoYW5kbGVTdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcikge1xyXG4gICAgdmFyIG9uU3RvcHBlZE5vdGlmaWNhdGlvbiA9IGNvbmZpZy5vblN0b3BwZWROb3RpZmljYXRpb247XHJcbiAgICBvblN0b3BwZWROb3RpZmljYXRpb24gJiYgdGltZW91dFByb3ZpZGVyLnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gb25TdG9wcGVkTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgc3Vic2NyaWJlcik7IH0pO1xyXG59XHJcbmV4cG9ydCB2YXIgRU1QVFlfT0JTRVJWRVIgPSB7XHJcbiAgICBjbG9zZWQ6IHRydWUsXHJcbiAgICBuZXh0OiBub29wLFxyXG4gICAgZXJyb3I6IGRlZmF1bHRFcnJvckhhbmRsZXIsXHJcbiAgICBjb21wbGV0ZTogbm9vcCxcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9U3Vic2NyaWJlci5qcy5tYXAiLCJleHBvcnQgdmFyIG9ic2VydmFibGUgPSAoZnVuY3Rpb24gKCkgeyByZXR1cm4gKHR5cGVvZiBTeW1ib2wgPT09ICdmdW5jdGlvbicgJiYgU3ltYm9sLm9ic2VydmFibGUpIHx8ICdAQG9ic2VydmFibGUnOyB9KSgpO1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpZGVudGl0eSh4KSB7XHJcbiAgICByZXR1cm4geDtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZGVudGl0eS5qcy5tYXAiLCJpbXBvcnQgeyBpZGVudGl0eSB9IGZyb20gJy4vaWRlbnRpdHknO1xyXG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpIHtcclxuICAgIHZhciBmbnMgPSBbXTtcclxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgZm5zW19pXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gcGlwZUZyb21BcnJheShmbnMpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBwaXBlRnJvbUFycmF5KGZucykge1xyXG4gICAgaWYgKGZucy5sZW5ndGggPT09IDApIHtcclxuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XHJcbiAgICB9XHJcbiAgICBpZiAoZm5zLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgIHJldHVybiBmbnNbMF07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gcGlwZWQoaW5wdXQpIHtcclxuICAgICAgICByZXR1cm4gZm5zLnJlZHVjZShmdW5jdGlvbiAocHJldiwgZm4pIHsgcmV0dXJuIGZuKHByZXYpOyB9LCBpbnB1dCk7XHJcbiAgICB9O1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBpcGUuanMubWFwIiwiaW1wb3J0IHsgU2FmZVN1YnNjcmliZXIsIFN1YnNjcmliZXIgfSBmcm9tICcuL1N1YnNjcmliZXInO1xyXG5pbXBvcnQgeyBpc1N1YnNjcmlwdGlvbiB9IGZyb20gJy4vU3Vic2NyaXB0aW9uJztcclxuaW1wb3J0IHsgb2JzZXJ2YWJsZSBhcyBTeW1ib2xfb2JzZXJ2YWJsZSB9IGZyb20gJy4vc3ltYm9sL29ic2VydmFibGUnO1xyXG5pbXBvcnQgeyBwaXBlRnJvbUFycmF5IH0gZnJvbSAnLi91dGlsL3BpcGUnO1xyXG5pbXBvcnQgeyBjb25maWcgfSBmcm9tICcuL2NvbmZpZyc7XHJcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL3V0aWwvaXNGdW5jdGlvbic7XHJcbmltcG9ydCB7IGVycm9yQ29udGV4dCB9IGZyb20gJy4vdXRpbC9lcnJvckNvbnRleHQnO1xyXG52YXIgT2JzZXJ2YWJsZSA9IChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBPYnNlcnZhYmxlKHN1YnNjcmliZSkge1xyXG4gICAgICAgIGlmIChzdWJzY3JpYmUpIHtcclxuICAgICAgICAgICAgdGhpcy5fc3Vic2NyaWJlID0gc3Vic2NyaWJlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIE9ic2VydmFibGUucHJvdG90eXBlLmxpZnQgPSBmdW5jdGlvbiAob3BlcmF0b3IpIHtcclxuICAgICAgICB2YXIgb2JzZXJ2YWJsZSA9IG5ldyBPYnNlcnZhYmxlKCk7XHJcbiAgICAgICAgb2JzZXJ2YWJsZS5zb3VyY2UgPSB0aGlzO1xyXG4gICAgICAgIG9ic2VydmFibGUub3BlcmF0b3IgPSBvcGVyYXRvcjtcclxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5zdWJzY3JpYmUgPSBmdW5jdGlvbiAob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdmFyIHN1YnNjcmliZXIgPSBpc1N1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQpID8gb2JzZXJ2ZXJPck5leHQgOiBuZXcgU2FmZVN1YnNjcmliZXIob2JzZXJ2ZXJPck5leHQsIGVycm9yLCBjb21wbGV0ZSk7XHJcbiAgICAgICAgZXJyb3JDb250ZXh0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIF9hID0gX3RoaXMsIG9wZXJhdG9yID0gX2Eub3BlcmF0b3IsIHNvdXJjZSA9IF9hLnNvdXJjZTtcclxuICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQob3BlcmF0b3JcclxuICAgICAgICAgICAgICAgID9cclxuICAgICAgICAgICAgICAgICAgICBvcGVyYXRvci5jYWxsKHN1YnNjcmliZXIsIHNvdXJjZSlcclxuICAgICAgICAgICAgICAgIDogc291cmNlXHJcbiAgICAgICAgICAgICAgICAgICAgP1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fc3Vic2NyaWJlKHN1YnNjcmliZXIpXHJcbiAgICAgICAgICAgICAgICAgICAgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpcy5fdHJ5U3Vic2NyaWJlKHN1YnNjcmliZXIpKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gc3Vic2NyaWJlcjtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fdHJ5U3Vic2NyaWJlID0gZnVuY3Rpb24gKHNpbmspIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc3Vic2NyaWJlKHNpbmspO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgIHNpbmsuZXJyb3IoZXJyKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChuZXh0LCBwcm9taXNlQ3Rvcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgcHJvbWlzZUN0b3IgPSBnZXRQcm9taXNlQ3Rvcihwcm9taXNlQ3Rvcik7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBwcm9taXNlQ3RvcihmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XHJcbiAgICAgICAgICAgIHZhciBzdWJzY3JpYmVyID0gbmV3IFNhZmVTdWJzY3JpYmVyKHtcclxuICAgICAgICAgICAgICAgIG5leHQ6IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQodmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGVycm9yOiByZWplY3QsXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogcmVzb2x2ZSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcclxuICAgICAgICB9KTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5fc3Vic2NyaWJlID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgcmV0dXJuIChfYSA9IHRoaXMuc291cmNlKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc3Vic2NyaWJlKHN1YnNjcmliZXIpO1xyXG4gICAgfTtcclxuICAgIE9ic2VydmFibGUucHJvdG90eXBlW1N5bWJvbF9vYnNlcnZhYmxlXSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS5waXBlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBvcGVyYXRpb25zID0gW107XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgb3BlcmF0aW9uc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gcGlwZUZyb21BcnJheShvcGVyYXRpb25zKSh0aGlzKTtcclxuICAgIH07XHJcbiAgICBPYnNlcnZhYmxlLnByb3RvdHlwZS50b1Byb21pc2UgPSBmdW5jdGlvbiAocHJvbWlzZUN0b3IpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHByb21pc2VDdG9yID0gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpO1xyXG4gICAgICAgIHJldHVybiBuZXcgcHJvbWlzZUN0b3IoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgICAgICB2YXIgdmFsdWU7XHJcbiAgICAgICAgICAgIF90aGlzLnN1YnNjcmliZShmdW5jdGlvbiAoeCkgeyByZXR1cm4gKHZhbHVlID0geCk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHJlamVjdChlcnIpOyB9LCBmdW5jdGlvbiAoKSB7IHJldHVybiByZXNvbHZlKHZhbHVlKTsgfSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgT2JzZXJ2YWJsZS5jcmVhdGUgPSBmdW5jdGlvbiAoc3Vic2NyaWJlKSB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKHN1YnNjcmliZSk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIE9ic2VydmFibGU7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IE9ic2VydmFibGUgfTtcclxuZnVuY3Rpb24gZ2V0UHJvbWlzZUN0b3IocHJvbWlzZUN0b3IpIHtcclxuICAgIHZhciBfYTtcclxuICAgIHJldHVybiAoX2EgPSBwcm9taXNlQ3RvciAhPT0gbnVsbCAmJiBwcm9taXNlQ3RvciAhPT0gdm9pZCAwID8gcHJvbWlzZUN0b3IgOiBjb25maWcuUHJvbWlzZSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogUHJvbWlzZTtcclxufVxyXG5mdW5jdGlvbiBpc09ic2VydmVyKHZhbHVlKSB7XHJcbiAgICByZXR1cm4gdmFsdWUgJiYgaXNGdW5jdGlvbih2YWx1ZS5uZXh0KSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmVycm9yKSAmJiBpc0Z1bmN0aW9uKHZhbHVlLmNvbXBsZXRlKTtcclxufVxyXG5mdW5jdGlvbiBpc1N1YnNjcmliZXIodmFsdWUpIHtcclxuICAgIHJldHVybiAodmFsdWUgJiYgdmFsdWUgaW5zdGFuY2VvZiBTdWJzY3JpYmVyKSB8fCAoaXNPYnNlcnZlcih2YWx1ZSkgJiYgaXNTdWJzY3JpcHRpb24odmFsdWUpKTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1PYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IG9ic2VydmFibGUgYXMgU3ltYm9sX29ic2VydmFibGUgfSBmcm9tICcuLi9zeW1ib2wvb2JzZXJ2YWJsZSc7XHJcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xyXG5leHBvcnQgZnVuY3Rpb24gaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXRbU3ltYm9sX29ic2VydmFibGVdKTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1pc0ludGVyb3BPYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xyXG5leHBvcnQgZnVuY3Rpb24gaXNBc3luY0l0ZXJhYmxlKG9iaikge1xyXG4gICAgcmV0dXJuIFN5bWJvbC5hc3luY0l0ZXJhdG9yICYmIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNBc3luY0l0ZXJhYmxlLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvcihpbnB1dCkge1xyXG4gICAgcmV0dXJuIG5ldyBUeXBlRXJyb3IoXCJZb3UgcHJvdmlkZWQgXCIgKyAoaW5wdXQgIT09IG51bGwgJiYgdHlwZW9mIGlucHV0ID09PSAnb2JqZWN0JyA/ICdhbiBpbnZhbGlkIG9iamVjdCcgOiBcIidcIiArIGlucHV0ICsgXCInXCIpICsgXCIgd2hlcmUgYSBzdHJlYW0gd2FzIGV4cGVjdGVkLiBZb3UgY2FuIHByb3ZpZGUgYW4gT2JzZXJ2YWJsZSwgUHJvbWlzZSwgUmVhZGFibGVTdHJlYW0sIEFycmF5LCBBc3luY0l0ZXJhYmxlLCBvciBJdGVyYWJsZS5cIik7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGhyb3dVbm9ic2VydmFibGVFcnJvci5qcy5tYXAiLCJleHBvcnQgZnVuY3Rpb24gZ2V0U3ltYm9sSXRlcmF0b3IoKSB7XHJcbiAgICBpZiAodHlwZW9mIFN5bWJvbCAhPT0gJ2Z1bmN0aW9uJyB8fCAhU3ltYm9sLml0ZXJhdG9yKSB7XHJcbiAgICAgICAgcmV0dXJuICdAQGl0ZXJhdG9yJztcclxuICAgIH1cclxuICAgIHJldHVybiBTeW1ib2wuaXRlcmF0b3I7XHJcbn1cclxuZXhwb3J0IHZhciBpdGVyYXRvciA9IGdldFN5bWJvbEl0ZXJhdG9yKCk7XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZXJhdG9yLmpzLm1hcCIsImltcG9ydCB7IGl0ZXJhdG9yIGFzIFN5bWJvbF9pdGVyYXRvciB9IGZyb20gJy4uL3N5bWJvbC9pdGVyYXRvcic7XHJcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuL2lzRnVuY3Rpb24nO1xyXG5leHBvcnQgZnVuY3Rpb24gaXNJdGVyYWJsZShpbnB1dCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24oaW5wdXQgPT09IG51bGwgfHwgaW5wdXQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0pO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzSXRlcmFibGUuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY0dlbmVyYXRvciwgX19hd2FpdCwgX19nZW5lcmF0b3IgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XHJcbmV4cG9ydCBmdW5jdGlvbiByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yKHJlYWRhYmxlU3RyZWFtKSB7XHJcbiAgICByZXR1cm4gX19hc3luY0dlbmVyYXRvcih0aGlzLCBhcmd1bWVudHMsIGZ1bmN0aW9uIHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3JfMSgpIHtcclxuICAgICAgICB2YXIgcmVhZGVyLCBfYSwgdmFsdWUsIGRvbmU7XHJcbiAgICAgICAgcmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsIGZ1bmN0aW9uIChfYikge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKF9iLmxhYmVsKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyID0gcmVhZGFibGVTdHJlYW0uZ2V0UmVhZGVyKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgX2IubGFiZWwgPSAxO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAgICAgICAgIF9iLnRyeXMucHVzaChbMSwgLCA5LCAxMF0pO1xyXG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMjtcclxuICAgICAgICAgICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIXRydWUpIHJldHVybiBbMywgOF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfX2F3YWl0KHJlYWRlci5yZWFkKCkpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMzpcclxuICAgICAgICAgICAgICAgICAgICBfYSA9IF9iLnNlbnQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmU7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFkb25lKSByZXR1cm4gWzMsIDVdO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbNCwgX19hd2FpdCh2b2lkIDApXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFsyLCBfYi5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiByZXR1cm4gWzQsIF9fYXdhaXQodmFsdWUpXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNjogcmV0dXJuIFs0LCBfYi5zZW50KCldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDJdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA4OiByZXR1cm4gWzMsIDEwXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgOTpcclxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFsyXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGlzUmVhZGFibGVTdHJlYW1MaWtlKG9iaikge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqID09PSBudWxsIHx8IG9iaiA9PT0gdm9pZCAwID8gdm9pZCAwIDogb2JqLmdldFJlYWRlcik7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aXNSZWFkYWJsZVN0cmVhbUxpa2UuanMubWFwIiwiaW1wb3J0IHsgX19hc3luY1ZhbHVlcywgX19hd2FpdGVyLCBfX2dlbmVyYXRvciwgX192YWx1ZXMgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcclxuaW1wb3J0IHsgaXNQcm9taXNlIH0gZnJvbSAnLi4vdXRpbC9pc1Byb21pc2UnO1xyXG5pbXBvcnQgeyBPYnNlcnZhYmxlIH0gZnJvbSAnLi4vT2JzZXJ2YWJsZSc7XHJcbmltcG9ydCB7IGlzSW50ZXJvcE9ic2VydmFibGUgfSBmcm9tICcuLi91dGlsL2lzSW50ZXJvcE9ic2VydmFibGUnO1xyXG5pbXBvcnQgeyBpc0FzeW5jSXRlcmFibGUgfSBmcm9tICcuLi91dGlsL2lzQXN5bmNJdGVyYWJsZSc7XHJcbmltcG9ydCB7IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yIH0gZnJvbSAnLi4vdXRpbC90aHJvd1Vub2JzZXJ2YWJsZUVycm9yJztcclxuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XHJcbmltcG9ydCB7IGlzUmVhZGFibGVTdHJlYW1MaWtlLCByZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIH0gZnJvbSAnLi4vdXRpbC9pc1JlYWRhYmxlU3RyZWFtTGlrZSc7XHJcbmltcG9ydCB7IGlzRnVuY3Rpb24gfSBmcm9tICcuLi91dGlsL2lzRnVuY3Rpb24nO1xyXG5pbXBvcnQgeyByZXBvcnRVbmhhbmRsZWRFcnJvciB9IGZyb20gJy4uL3V0aWwvcmVwb3J0VW5oYW5kbGVkRXJyb3InO1xyXG5pbXBvcnQgeyBvYnNlcnZhYmxlIGFzIFN5bWJvbF9vYnNlcnZhYmxlIH0gZnJvbSAnLi4vc3ltYm9sL29ic2VydmFibGUnO1xyXG5leHBvcnQgZnVuY3Rpb24gaW5uZXJGcm9tKGlucHV0KSB7XHJcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBPYnNlcnZhYmxlKSB7XHJcbiAgICAgICAgcmV0dXJuIGlucHV0O1xyXG4gICAgfVxyXG4gICAgaWYgKGlucHV0ICE9IG51bGwpIHtcclxuICAgICAgICBpZiAoaXNJbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZyb21JbnRlcm9wT2JzZXJ2YWJsZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZyb21BcnJheUxpa2UoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNQcm9taXNlKGlucHV0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbVByb21pc2UoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNBc3luY0l0ZXJhYmxlKGlucHV0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gZnJvbUFzeW5jSXRlcmFibGUoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNJdGVyYWJsZShpbnB1dCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZyb21JdGVyYWJsZShpbnB1dCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1JlYWRhYmxlU3RyZWFtTGlrZShpbnB1dCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZyb21SZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRocm93IGNyZWF0ZUludmFsaWRPYnNlcnZhYmxlVHlwZUVycm9yKGlucHV0KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbUludGVyb3BPYnNlcnZhYmxlKG9iaikge1xyXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgdmFyIG9icyA9IG9ialtTeW1ib2xfb2JzZXJ2YWJsZV0oKTtcclxuICAgICAgICBpZiAoaXNGdW5jdGlvbihvYnMuc3Vic2NyaWJlKSkge1xyXG4gICAgICAgICAgICByZXR1cm4gb2JzLnN1YnNjcmliZShzdWJzY3JpYmVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignUHJvdmlkZWQgb2JqZWN0IGRvZXMgbm90IGNvcnJlY3RseSBpbXBsZW1lbnQgU3ltYm9sLm9ic2VydmFibGUnKTtcclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXJyYXlMaWtlKGFycmF5KSB7XHJcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aCAmJiAhc3Vic2NyaWJlci5jbG9zZWQ7IGkrKykge1xyXG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoYXJyYXlbaV0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVByb21pc2UocHJvbWlzZSkge1xyXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgcHJvbWlzZVxyXG4gICAgICAgICAgICAudGhlbihmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaWYgKCFzdWJzY3JpYmVyLmNsb3NlZCkge1xyXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSlcclxuICAgICAgICAgICAgLnRoZW4obnVsbCwgcmVwb3J0VW5oYW5kbGVkRXJyb3IpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21JdGVyYWJsZShpdGVyYWJsZSkge1xyXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgdmFyIGVfMSwgX2E7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgZm9yICh2YXIgaXRlcmFibGVfMSA9IF9fdmFsdWVzKGl0ZXJhYmxlKSwgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCk7ICFpdGVyYWJsZV8xXzEuZG9uZTsgaXRlcmFibGVfMV8xID0gaXRlcmFibGVfMS5uZXh0KCkpIHtcclxuICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IGl0ZXJhYmxlXzFfMS52YWx1ZTtcclxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoc3Vic2NyaWJlci5jbG9zZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH1cclxuICAgICAgICBmaW5hbGx5IHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVyYWJsZV8xXzEgJiYgIWl0ZXJhYmxlXzFfMS5kb25lICYmIChfYSA9IGl0ZXJhYmxlXzEucmV0dXJuKSkgX2EuY2FsbChpdGVyYWJsZV8xKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmcm9tQXN5bmNJdGVyYWJsZShhc3luY0l0ZXJhYmxlKSB7XHJcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcclxuICAgICAgICBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZnJvbVJlYWRhYmxlU3RyZWFtTGlrZShyZWFkYWJsZVN0cmVhbSkge1xyXG4gICAgcmV0dXJuIGZyb21Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IocmVhZGFibGVTdHJlYW0pKTtcclxufVxyXG5mdW5jdGlvbiBwcm9jZXNzKGFzeW5jSXRlcmFibGUsIHN1YnNjcmliZXIpIHtcclxuICAgIHZhciBhc3luY0l0ZXJhYmxlXzEsIGFzeW5jSXRlcmFibGVfMV8xO1xyXG4gICAgdmFyIGVfMiwgX2E7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHZhbHVlLCBlXzJfMTtcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9iKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2IubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzAsIDUsIDYsIDExXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYXN5bmNJdGVyYWJsZV8xID0gX19hc3luY1ZhbHVlcyhhc3luY0l0ZXJhYmxlKTtcclxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDE7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDE6IHJldHVybiBbNCwgYXN5bmNJdGVyYWJsZV8xLm5leHQoKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYXN5bmNJdGVyYWJsZV8xXzEgPSBfYi5zZW50KCksICFhc3luY0l0ZXJhYmxlXzFfMS5kb25lKSkgcmV0dXJuIFszLCA0XTtcclxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGFzeW5jSXRlcmFibGVfMV8xLnZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNjcmliZXIuY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIF9iLmxhYmVsID0gMztcclxuICAgICAgICAgICAgICAgIGNhc2UgMzogcmV0dXJuIFszLCAxXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNDogcmV0dXJuIFszLCAxMV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDU6XHJcbiAgICAgICAgICAgICAgICAgICAgZV8yXzEgPSBfYi5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgZV8yID0geyBlcnJvcjogZV8yXzEgfTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzMsIDExXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNjpcclxuICAgICAgICAgICAgICAgICAgICBfYi50cnlzLnB1c2goWzYsICwgOSwgMTBdKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIShhc3luY0l0ZXJhYmxlXzFfMSAmJiAhYXN5bmNJdGVyYWJsZV8xXzEuZG9uZSAmJiAoX2EgPSBhc3luY0l0ZXJhYmxlXzEucmV0dXJuKSkpIHJldHVybiBbMywgOF07XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0LCBfYS5jYWxsKGFzeW5jSXRlcmFibGVfMSldO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OlxyXG4gICAgICAgICAgICAgICAgICAgIF9iLnNlbnQoKTtcclxuICAgICAgICAgICAgICAgICAgICBfYi5sYWJlbCA9IDg7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDg6IHJldHVybiBbMywgMTBdO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA5OlxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChlXzIpIHRocm93IGVfMi5lcnJvcjtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gWzddO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxMDogcmV0dXJuIFs3XTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTE6XHJcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5jb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbMl07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlubmVyRnJvbS5qcy5tYXAiLCJpbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi9pc0Z1bmN0aW9uJztcclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0xpZnQoc291cmNlKSB7XHJcbiAgICByZXR1cm4gaXNGdW5jdGlvbihzb3VyY2UgPT09IG51bGwgfHwgc291cmNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzb3VyY2UubGlmdCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIG9wZXJhdGUoaW5pdCkge1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHtcclxuICAgICAgICBpZiAoaGFzTGlmdChzb3VyY2UpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzb3VyY2UubGlmdChmdW5jdGlvbiAobGlmdGVkU291cmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbml0KGxpZnRlZFNvdXJjZSwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5hYmxlIHRvIGxpZnQgdW5rbm93biBPYnNlcnZhYmxlIHR5cGUnKTtcclxuICAgIH07XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGlmdC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xyXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpIHtcclxuICAgIHJldHVybiBuZXcgT3BlcmF0b3JTdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBvbk5leHQsIG9uQ29tcGxldGUsIG9uRXJyb3IsIG9uRmluYWxpemUpO1xyXG59XHJcbnZhciBPcGVyYXRvclN1YnNjcmliZXIgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xyXG4gICAgX19leHRlbmRzKE9wZXJhdG9yU3Vic2NyaWJlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE9wZXJhdG9yU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb25OZXh0LCBvbkNvbXBsZXRlLCBvbkVycm9yLCBvbkZpbmFsaXplLCBzaG91bGRVbnN1YnNjcmliZSkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xyXG4gICAgICAgIF90aGlzLm9uRmluYWxpemUgPSBvbkZpbmFsaXplO1xyXG4gICAgICAgIF90aGlzLnNob3VsZFVuc3Vic2NyaWJlID0gc2hvdWxkVW5zdWJzY3JpYmU7XHJcbiAgICAgICAgX3RoaXMuX25leHQgPSBvbk5leHRcclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgb25OZXh0KHZhbHVlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fbmV4dDtcclxuICAgICAgICBfdGhpcy5fZXJyb3IgPSBvbkVycm9yXHJcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGVycikge1xyXG4gICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICBvbkVycm9yKGVycik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGZpbmFsbHkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICA6IF9zdXBlci5wcm90b3R5cGUuX2Vycm9yO1xyXG4gICAgICAgIF90aGlzLl9jb21wbGV0ZSA9IG9uQ29tcGxldGVcclxuICAgICAgICAgICAgPyBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIG9uQ29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBkZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZmluYWxseSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIDogX3N1cGVyLnByb3RvdHlwZS5fY29tcGxldGU7XHJcbiAgICAgICAgcmV0dXJuIF90aGlzO1xyXG4gICAgfVxyXG4gICAgT3BlcmF0b3JTdWJzY3JpYmVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKCF0aGlzLnNob3VsZFVuc3Vic2NyaWJlIHx8IHRoaXMuc2hvdWxkVW5zdWJzY3JpYmUoKSkge1xyXG4gICAgICAgICAgICB2YXIgY2xvc2VkXzEgPSB0aGlzLmNsb3NlZDtcclxuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgICAgICAhY2xvc2VkXzEgJiYgKChfYSA9IHRoaXMub25GaW5hbGl6ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmNhbGwodGhpcykpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gT3BlcmF0b3JTdWJzY3JpYmVyO1xyXG59KFN1YnNjcmliZXIpKTtcclxuZXhwb3J0IHsgT3BlcmF0b3JTdWJzY3JpYmVyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPU9wZXJhdG9yU3Vic2NyaWJlci5qcy5tYXAiLCJpbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcclxuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xyXG5leHBvcnQgZnVuY3Rpb24gbWFwKHByb2plY3QsIHRoaXNBcmcpIHtcclxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcclxuICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQocHJvamVjdC5jYWxsKHRoaXNBcmcsIHZhbHVlLCBpbmRleCsrKSk7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWFwLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBleGVjdXRlU2NoZWR1bGUocGFyZW50U3Vic2NyaXB0aW9uLCBzY2hlZHVsZXIsIHdvcmssIGRlbGF5LCByZXBlYXQpIHtcclxuICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxyXG4gICAgaWYgKHJlcGVhdCA9PT0gdm9pZCAwKSB7IHJlcGVhdCA9IGZhbHNlOyB9XHJcbiAgICB2YXIgc2NoZWR1bGVTdWJzY3JpcHRpb24gPSBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHdvcmsoKTtcclxuICAgICAgICBpZiAocmVwZWF0KSB7XHJcbiAgICAgICAgICAgIHBhcmVudFN1YnNjcmlwdGlvbi5hZGQodGhpcy5zY2hlZHVsZShudWxsLCBkZWxheSkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgdGhpcy51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sIGRlbGF5KTtcclxuICAgIHBhcmVudFN1YnNjcmlwdGlvbi5hZGQoc2NoZWR1bGVTdWJzY3JpcHRpb24pO1xyXG4gICAgaWYgKCFyZXBlYXQpIHtcclxuICAgICAgICByZXR1cm4gc2NoZWR1bGVTdWJzY3JpcHRpb247XHJcbiAgICB9XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXhlY3V0ZVNjaGVkdWxlLmpzLm1hcCIsImltcG9ydCB7IG1hcCB9IGZyb20gJy4vbWFwJztcclxuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xyXG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcclxuaW1wb3J0IHsgbWVyZ2VJbnRlcm5hbHMgfSBmcm9tICcuL21lcmdlSW50ZXJuYWxzJztcclxuaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4uL3V0aWwvaXNGdW5jdGlvbic7XHJcbmV4cG9ydCBmdW5jdGlvbiBtZXJnZU1hcChwcm9qZWN0LCByZXN1bHRTZWxlY3RvciwgY29uY3VycmVudCkge1xyXG4gICAgaWYgKGNvbmN1cnJlbnQgPT09IHZvaWQgMCkgeyBjb25jdXJyZW50ID0gSW5maW5pdHk7IH1cclxuICAgIGlmIChpc0Z1bmN0aW9uKHJlc3VsdFNlbGVjdG9yKSkge1xyXG4gICAgICAgIHJldHVybiBtZXJnZU1hcChmdW5jdGlvbiAoYSwgaSkgeyByZXR1cm4gbWFwKGZ1bmN0aW9uIChiLCBpaSkgeyByZXR1cm4gcmVzdWx0U2VsZWN0b3IoYSwgYiwgaSwgaWkpOyB9KShpbm5lckZyb20ocHJvamVjdChhLCBpKSkpOyB9LCBjb25jdXJyZW50KTtcclxuICAgIH1cclxuICAgIGVsc2UgaWYgKHR5cGVvZiByZXN1bHRTZWxlY3RvciA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICBjb25jdXJyZW50ID0gcmVzdWx0U2VsZWN0b3I7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7IHJldHVybiBtZXJnZUludGVybmFscyhzb3VyY2UsIHN1YnNjcmliZXIsIHByb2plY3QsIGNvbmN1cnJlbnQpOyB9KTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXJnZU1hcC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XHJcbmltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcclxuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xyXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VJbnRlcm5hbHMoc291cmNlLCBzdWJzY3JpYmVyLCBwcm9qZWN0LCBjb25jdXJyZW50LCBvbkJlZm9yZU5leHQsIGV4cGFuZCwgaW5uZXJTdWJTY2hlZHVsZXIsIGFkZGl0aW9uYWxGaW5hbGl6ZXIpIHtcclxuICAgIHZhciBidWZmZXIgPSBbXTtcclxuICAgIHZhciBhY3RpdmUgPSAwO1xyXG4gICAgdmFyIGluZGV4ID0gMDtcclxuICAgIHZhciBpc0NvbXBsZXRlID0gZmFsc2U7XHJcbiAgICB2YXIgY2hlY2tDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoaXNDb21wbGV0ZSAmJiAhYnVmZmVyLmxlbmd0aCAmJiAhYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIG91dGVyTmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gKGFjdGl2ZSA8IGNvbmN1cnJlbnQgPyBkb0lubmVyU3ViKHZhbHVlKSA6IGJ1ZmZlci5wdXNoKHZhbHVlKSk7IH07XHJcbiAgICB2YXIgZG9Jbm5lclN1YiA9IGZ1bmN0aW9uICh2YWx1ZSkge1xyXG4gICAgICAgIGV4cGFuZCAmJiBzdWJzY3JpYmVyLm5leHQodmFsdWUpO1xyXG4gICAgICAgIGFjdGl2ZSsrO1xyXG4gICAgICAgIHZhciBpbm5lckNvbXBsZXRlID0gZmFsc2U7XHJcbiAgICAgICAgaW5uZXJGcm9tKHByb2plY3QodmFsdWUsIGluZGV4KyspKS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7XHJcbiAgICAgICAgICAgIG9uQmVmb3JlTmV4dCA9PT0gbnVsbCB8fCBvbkJlZm9yZU5leHQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG9uQmVmb3JlTmV4dChpbm5lclZhbHVlKTtcclxuICAgICAgICAgICAgaWYgKGV4cGFuZCkge1xyXG4gICAgICAgICAgICAgICAgb3V0ZXJOZXh0KGlubmVyVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KGlubmVyVmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpbm5lckNvbXBsZXRlID0gdHJ1ZTtcclxuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGlubmVyQ29tcGxldGUpIHtcclxuICAgICAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWN0aXZlLS07XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBidWZmZXJlZFZhbHVlID0gYnVmZmVyLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbm5lclN1YlNjaGVkdWxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIGlubmVyU3ViU2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkb0lubmVyU3ViKGJ1ZmZlcmVkVmFsdWUpOyB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvSW5uZXJTdWIoYnVmZmVyZWRWYWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChidWZmZXIubGVuZ3RoICYmIGFjdGl2ZSA8IGNvbmN1cnJlbnQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX2xvb3BfMSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBjaGVja0NvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlci5lcnJvcihlcnIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfTtcclxuICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIG91dGVyTmV4dCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlzQ29tcGxldGUgPSB0cnVlO1xyXG4gICAgICAgIGNoZWNrQ29tcGxldGUoKTtcclxuICAgIH0pKTtcclxuICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgYWRkaXRpb25hbEZpbmFsaXplciA9PT0gbnVsbCB8fCBhZGRpdGlvbmFsRmluYWxpemVyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBhZGRpdGlvbmFsRmluYWxpemVyKCk7XHJcbiAgICB9O1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1lcmdlSW50ZXJuYWxzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBtYXAgfSBmcm9tIFwiLi4vb3BlcmF0b3JzL21hcFwiO1xyXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XHJcbmZ1bmN0aW9uIGNhbGxPckFwcGx5KGZuLCBhcmdzKSB7XHJcbiAgICByZXR1cm4gaXNBcnJheShhcmdzKSA/IGZuLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbXSwgX19yZWFkKGFyZ3MpKSkgOiBmbihhcmdzKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gbWFwT25lT3JNYW55QXJncyhmbikge1xyXG4gICAgcmV0dXJuIG1hcChmdW5jdGlvbiAoYXJncykgeyByZXR1cm4gY2FsbE9yQXBwbHkoZm4sIGFyZ3MpOyB9KTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1tYXBPbmVPck1hbnlBcmdzLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCB9IGZyb20gXCJ0c2xpYlwiO1xyXG5pbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XHJcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcclxuaW1wb3J0IHsgbWVyZ2VNYXAgfSBmcm9tICcuLi9vcGVyYXRvcnMvbWVyZ2VNYXAnO1xyXG5pbXBvcnQgeyBpc0FycmF5TGlrZSB9IGZyb20gJy4uL3V0aWwvaXNBcnJheUxpa2UnO1xyXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcclxuaW1wb3J0IHsgbWFwT25lT3JNYW55QXJncyB9IGZyb20gJy4uL3V0aWwvbWFwT25lT3JNYW55QXJncyc7XHJcbnZhciBub2RlRXZlbnRFbWl0dGVyTWV0aG9kcyA9IFsnYWRkTGlzdGVuZXInLCAncmVtb3ZlTGlzdGVuZXInXTtcclxudmFyIGV2ZW50VGFyZ2V0TWV0aG9kcyA9IFsnYWRkRXZlbnRMaXN0ZW5lcicsICdyZW1vdmVFdmVudExpc3RlbmVyJ107XHJcbnZhciBqcXVlcnlNZXRob2RzID0gWydvbicsICdvZmYnXTtcclxuZXhwb3J0IGZ1bmN0aW9uIGZyb21FdmVudCh0YXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucywgcmVzdWx0U2VsZWN0b3IpIHtcclxuICAgIGlmIChpc0Z1bmN0aW9uKG9wdGlvbnMpKSB7XHJcbiAgICAgICAgcmVzdWx0U2VsZWN0b3IgPSBvcHRpb25zO1xyXG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XHJcbiAgICB9XHJcbiAgICBpZiAocmVzdWx0U2VsZWN0b3IpIHtcclxuICAgICAgICByZXR1cm4gZnJvbUV2ZW50KHRhcmdldCwgZXZlbnROYW1lLCBvcHRpb25zKS5waXBlKG1hcE9uZU9yTWFueUFyZ3MocmVzdWx0U2VsZWN0b3IpKTtcclxuICAgIH1cclxuICAgIHZhciBfYSA9IF9fcmVhZChpc0V2ZW50VGFyZ2V0KHRhcmdldClcclxuICAgICAgICA/IGV2ZW50VGFyZ2V0TWV0aG9kcy5tYXAoZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHsgcmV0dXJuIGZ1bmN0aW9uIChoYW5kbGVyKSB7IHJldHVybiB0YXJnZXRbbWV0aG9kTmFtZV0oZXZlbnROYW1lLCBoYW5kbGVyLCBvcHRpb25zKTsgfTsgfSlcclxuICAgICAgICA6XHJcbiAgICAgICAgICAgIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldClcclxuICAgICAgICAgICAgICAgID8gbm9kZUV2ZW50RW1pdHRlck1ldGhvZHMubWFwKHRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5KHRhcmdldCwgZXZlbnROYW1lKSlcclxuICAgICAgICAgICAgICAgIDogaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpXHJcbiAgICAgICAgICAgICAgICAgICAgPyBqcXVlcnlNZXRob2RzLm1hcCh0b0NvbW1vbkhhbmRsZXJSZWdpc3RyeSh0YXJnZXQsIGV2ZW50TmFtZSkpXHJcbiAgICAgICAgICAgICAgICAgICAgOiBbXSwgMiksIGFkZCA9IF9hWzBdLCByZW1vdmUgPSBfYVsxXTtcclxuICAgIGlmICghYWRkKSB7XHJcbiAgICAgICAgaWYgKGlzQXJyYXlMaWtlKHRhcmdldCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTWFwKGZ1bmN0aW9uIChzdWJUYXJnZXQpIHsgcmV0dXJuIGZyb21FdmVudChzdWJUYXJnZXQsIGV2ZW50TmFtZSwgb3B0aW9ucyk7IH0pKGlubmVyRnJvbSh0YXJnZXQpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBpZiAoIWFkZCkge1xyXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgZXZlbnQgdGFyZ2V0Jyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcclxuICAgICAgICB2YXIgaGFuZGxlciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzW19pXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gc3Vic2NyaWJlci5uZXh0KDEgPCBhcmdzLmxlbmd0aCA/IGFyZ3MgOiBhcmdzWzBdKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGFkZChoYW5kbGVyKTtcclxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVtb3ZlKGhhbmRsZXIpOyB9O1xyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gdG9Db21tb25IYW5kbGVyUmVnaXN0cnkodGFyZ2V0LCBldmVudE5hbWUpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAobWV0aG9kTmFtZSkgeyByZXR1cm4gZnVuY3Rpb24gKGhhbmRsZXIpIHsgcmV0dXJuIHRhcmdldFttZXRob2ROYW1lXShldmVudE5hbWUsIGhhbmRsZXIpOyB9OyB9O1xyXG59XHJcbmZ1bmN0aW9uIGlzTm9kZVN0eWxlRXZlbnRFbWl0dGVyKHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZExpc3RlbmVyKSAmJiBpc0Z1bmN0aW9uKHRhcmdldC5yZW1vdmVMaXN0ZW5lcik7XHJcbn1cclxuZnVuY3Rpb24gaXNKUXVlcnlTdHlsZUV2ZW50RW1pdHRlcih0YXJnZXQpIHtcclxuICAgIHJldHVybiBpc0Z1bmN0aW9uKHRhcmdldC5vbikgJiYgaXNGdW5jdGlvbih0YXJnZXQub2ZmKTtcclxufVxyXG5mdW5jdGlvbiBpc0V2ZW50VGFyZ2V0KHRhcmdldCkge1xyXG4gICAgcmV0dXJuIGlzRnVuY3Rpb24odGFyZ2V0LmFkZEV2ZW50TGlzdGVuZXIpICYmIGlzRnVuY3Rpb24odGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIpO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZyb21FdmVudC5qcy5tYXAiLCJpbXBvcnQgeyBfX2V4dGVuZHMgfSBmcm9tIFwidHNsaWJcIjtcclxuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAnLi4vU3Vic2NyaXB0aW9uJztcclxudmFyIEFjdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQWN0aW9uLCBfc3VwZXIpO1xyXG4gICAgZnVuY3Rpb24gQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xyXG4gICAgfVxyXG4gICAgQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcclxuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cclxuICAgICAgICByZXR1cm4gdGhpcztcclxuICAgIH07XHJcbiAgICByZXR1cm4gQWN0aW9uO1xyXG59KFN1YnNjcmlwdGlvbikpO1xyXG5leHBvcnQgeyBBY3Rpb24gfTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWN0aW9uLmpzLm1hcCIsImltcG9ydCB7IF9fcmVhZCwgX19zcHJlYWRBcnJheSB9IGZyb20gXCJ0c2xpYlwiO1xyXG5leHBvcnQgdmFyIGludGVydmFsUHJvdmlkZXIgPSB7XHJcbiAgICBzZXRJbnRlcnZhbDogZnVuY3Rpb24gKGhhbmRsZXIsIHRpbWVvdXQpIHtcclxuICAgICAgICB2YXIgYXJncyA9IFtdO1xyXG4gICAgICAgIGZvciAodmFyIF9pID0gMjsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XHJcbiAgICAgICAgICAgIGFyZ3NbX2kgLSAyXSA9IGFyZ3VtZW50c1tfaV07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkZWxlZ2F0ZSA9IGludGVydmFsUHJvdmlkZXIuZGVsZWdhdGU7XHJcbiAgICAgICAgaWYgKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5zZXRJbnRlcnZhbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVsZWdhdGUuc2V0SW50ZXJ2YWwuYXBwbHkoZGVsZWdhdGUsIF9fc3ByZWFkQXJyYXkoW2hhbmRsZXIsIHRpbWVvdXRdLCBfX3JlYWQoYXJncykpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNldEludGVydmFsLmFwcGx5KHZvaWQgMCwgX19zcHJlYWRBcnJheShbaGFuZGxlciwgdGltZW91dF0sIF9fcmVhZChhcmdzKSkpO1xyXG4gICAgfSxcclxuICAgIGNsZWFySW50ZXJ2YWw6IGZ1bmN0aW9uIChoYW5kbGUpIHtcclxuICAgICAgICB2YXIgZGVsZWdhdGUgPSBpbnRlcnZhbFByb3ZpZGVyLmRlbGVnYXRlO1xyXG4gICAgICAgIHJldHVybiAoKGRlbGVnYXRlID09PSBudWxsIHx8IGRlbGVnYXRlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWxlZ2F0ZS5jbGVhckludGVydmFsKSB8fCBjbGVhckludGVydmFsKShoYW5kbGUpO1xyXG4gICAgfSxcclxuICAgIGRlbGVnYXRlOiB1bmRlZmluZWQsXHJcbn07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVydmFsUHJvdmlkZXIuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IEFjdGlvbiB9IGZyb20gJy4vQWN0aW9uJztcclxuaW1wb3J0IHsgaW50ZXJ2YWxQcm92aWRlciB9IGZyb20gJy4vaW50ZXJ2YWxQcm92aWRlcic7XHJcbmltcG9ydCB7IGFyclJlbW92ZSB9IGZyb20gJy4uL3V0aWwvYXJyUmVtb3ZlJztcclxudmFyIEFzeW5jQWN0aW9uID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhBc3luY0FjdGlvbiwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIEFzeW5jQWN0aW9uKHNjaGVkdWxlciwgd29yaykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIHNjaGVkdWxlciwgd29yaykgfHwgdGhpcztcclxuICAgICAgICBfdGhpcy5zY2hlZHVsZXIgPSBzY2hlZHVsZXI7XHJcbiAgICAgICAgX3RoaXMud29yayA9IHdvcms7XHJcbiAgICAgICAgX3RoaXMucGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEFzeW5jQWN0aW9uLnByb3RvdHlwZS5zY2hlZHVsZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcclxuICAgICAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cclxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcclxuICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xyXG4gICAgICAgIHZhciBzY2hlZHVsZXIgPSB0aGlzLnNjaGVkdWxlcjtcclxuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBkZWxheSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucGVuZGluZyA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5kZWxheSA9IGRlbGF5O1xyXG4gICAgICAgIHRoaXMuaWQgPSB0aGlzLmlkIHx8IHRoaXMucmVxdWVzdEFzeW5jSWQoc2NoZWR1bGVyLCB0aGlzLmlkLCBkZWxheSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXM7XHJcbiAgICB9O1xyXG4gICAgQXN5bmNBY3Rpb24ucHJvdG90eXBlLnJlcXVlc3RBc3luY0lkID0gZnVuY3Rpb24gKHNjaGVkdWxlciwgX2lkLCBkZWxheSkge1xyXG4gICAgICAgIGlmIChkZWxheSA9PT0gdm9pZCAwKSB7IGRlbGF5ID0gMDsgfVxyXG4gICAgICAgIHJldHVybiBpbnRlcnZhbFByb3ZpZGVyLnNldEludGVydmFsKHNjaGVkdWxlci5mbHVzaC5iaW5kKHNjaGVkdWxlciwgdGhpcyksIGRlbGF5KTtcclxuICAgIH07XHJcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUucmVjeWNsZUFzeW5jSWQgPSBmdW5jdGlvbiAoX3NjaGVkdWxlciwgaWQsIGRlbGF5KSB7XHJcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XHJcbiAgICAgICAgaWYgKGRlbGF5ICE9IG51bGwgJiYgdGhpcy5kZWxheSA9PT0gZGVsYXkgJiYgdGhpcy5wZW5kaW5nID09PSBmYWxzZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gaWQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVydmFsUHJvdmlkZXIuY2xlYXJJbnRlcnZhbChpZCk7XHJcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcclxuICAgIH07XHJcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uIChzdGF0ZSwgZGVsYXkpIHtcclxuICAgICAgICBpZiAodGhpcy5jbG9zZWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIG5ldyBFcnJvcignZXhlY3V0aW5nIGEgY2FuY2VsbGVkIGFjdGlvbicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnBlbmRpbmcgPSBmYWxzZTtcclxuICAgICAgICB2YXIgZXJyb3IgPSB0aGlzLl9leGVjdXRlKHN0YXRlLCBkZWxheSk7XHJcbiAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nID09PSBmYWxzZSAmJiB0aGlzLmlkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5pZCA9IHRoaXMucmVjeWNsZUFzeW5jSWQodGhpcy5zY2hlZHVsZXIsIHRoaXMuaWQsIG51bGwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUuX2V4ZWN1dGUgPSBmdW5jdGlvbiAoc3RhdGUsIF9kZWxheSkge1xyXG4gICAgICAgIHZhciBlcnJvcmVkID0gZmFsc2U7XHJcbiAgICAgICAgdmFyIGVycm9yVmFsdWU7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy53b3JrKHN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY2F0Y2ggKGUpIHtcclxuICAgICAgICAgICAgZXJyb3JlZCA9IHRydWU7XHJcbiAgICAgICAgICAgIGVycm9yVmFsdWUgPSBlID8gZSA6IG5ldyBFcnJvcignU2NoZWR1bGVkIGFjdGlvbiB0aHJldyBmYWxzeSBlcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoZXJyb3JlZCkge1xyXG4gICAgICAgICAgICB0aGlzLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBlcnJvclZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBBc3luY0FjdGlvbi5wcm90b3R5cGUudW5zdWJzY3JpYmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLmNsb3NlZCkge1xyXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLCBpZCA9IF9hLmlkLCBzY2hlZHVsZXIgPSBfYS5zY2hlZHVsZXI7XHJcbiAgICAgICAgICAgIHZhciBhY3Rpb25zID0gc2NoZWR1bGVyLmFjdGlvbnM7XHJcbiAgICAgICAgICAgIHRoaXMud29yayA9IHRoaXMuc3RhdGUgPSB0aGlzLnNjaGVkdWxlciA9IG51bGw7XHJcbiAgICAgICAgICAgIHRoaXMucGVuZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICBhcnJSZW1vdmUoYWN0aW9ucywgdGhpcyk7XHJcbiAgICAgICAgICAgIGlmIChpZCAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmlkID0gdGhpcy5yZWN5Y2xlQXN5bmNJZChzY2hlZHVsZXIsIGlkLCBudWxsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmRlbGF5ID0gbnVsbDtcclxuICAgICAgICAgICAgX3N1cGVyLnByb3RvdHlwZS51bnN1YnNjcmliZS5jYWxsKHRoaXMpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQXN5bmNBY3Rpb247XHJcbn0oQWN0aW9uKSk7XHJcbmV4cG9ydCB7IEFzeW5jQWN0aW9uIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jQWN0aW9uLmpzLm1hcCIsImV4cG9ydCB2YXIgZGF0ZVRpbWVzdGFtcFByb3ZpZGVyID0ge1xyXG4gICAgbm93OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIChkYXRlVGltZXN0YW1wUHJvdmlkZXIuZGVsZWdhdGUgfHwgRGF0ZSkubm93KCk7XHJcbiAgICB9LFxyXG4gICAgZGVsZWdhdGU6IHVuZGVmaW5lZCxcclxufTtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLmpzLm1hcCIsImltcG9ydCB7IGRhdGVUaW1lc3RhbXBQcm92aWRlciB9IGZyb20gJy4vc2NoZWR1bGVyL2RhdGVUaW1lc3RhbXBQcm92aWRlcic7XHJcbnZhciBTY2hlZHVsZXIgPSAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gU2NoZWR1bGVyKHNjaGVkdWxlckFjdGlvbkN0b3IsIG5vdykge1xyXG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkgeyBub3cgPSBTY2hlZHVsZXIubm93OyB9XHJcbiAgICAgICAgdGhpcy5zY2hlZHVsZXJBY3Rpb25DdG9yID0gc2NoZWR1bGVyQWN0aW9uQ3RvcjtcclxuICAgICAgICB0aGlzLm5vdyA9IG5vdztcclxuICAgIH1cclxuICAgIFNjaGVkdWxlci5wcm90b3R5cGUuc2NoZWR1bGUgPSBmdW5jdGlvbiAod29yaywgZGVsYXksIHN0YXRlKSB7XHJcbiAgICAgICAgaWYgKGRlbGF5ID09PSB2b2lkIDApIHsgZGVsYXkgPSAwOyB9XHJcbiAgICAgICAgcmV0dXJuIG5ldyB0aGlzLnNjaGVkdWxlckFjdGlvbkN0b3IodGhpcywgd29yaykuc2NoZWR1bGUoc3RhdGUsIGRlbGF5KTtcclxuICAgIH07XHJcbiAgICBTY2hlZHVsZXIubm93ID0gZGF0ZVRpbWVzdGFtcFByb3ZpZGVyLm5vdztcclxuICAgIHJldHVybiBTY2hlZHVsZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFNjaGVkdWxlciB9O1xyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1TY2hlZHVsZXIuanMubWFwIiwiaW1wb3J0IHsgQXN5bmNBY3Rpb24gfSBmcm9tICcuL0FzeW5jQWN0aW9uJztcclxuaW1wb3J0IHsgQXN5bmNTY2hlZHVsZXIgfSBmcm9tICcuL0FzeW5jU2NoZWR1bGVyJztcclxuZXhwb3J0IHZhciBhc3luY1NjaGVkdWxlciA9IG5ldyBBc3luY1NjaGVkdWxlcihBc3luY0FjdGlvbik7XHJcbmV4cG9ydCB2YXIgYXN5bmMgPSBhc3luY1NjaGVkdWxlcjtcclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXN5bmMuanMubWFwIiwiaW1wb3J0IHsgX19leHRlbmRzIH0gZnJvbSBcInRzbGliXCI7XHJcbmltcG9ydCB7IFNjaGVkdWxlciB9IGZyb20gJy4uL1NjaGVkdWxlcic7XHJcbnZhciBBc3luY1NjaGVkdWxlciA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XHJcbiAgICBfX2V4dGVuZHMoQXN5bmNTY2hlZHVsZXIsIF9zdXBlcik7XHJcbiAgICBmdW5jdGlvbiBBc3luY1NjaGVkdWxlcihTY2hlZHVsZXJBY3Rpb24sIG5vdykge1xyXG4gICAgICAgIGlmIChub3cgPT09IHZvaWQgMCkgeyBub3cgPSBTY2hlZHVsZXIubm93OyB9XHJcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgU2NoZWR1bGVyQWN0aW9uLCBub3cpIHx8IHRoaXM7XHJcbiAgICAgICAgX3RoaXMuYWN0aW9ucyA9IFtdO1xyXG4gICAgICAgIF90aGlzLl9hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICBfdGhpcy5fc2NoZWR1bGVkID0gdW5kZWZpbmVkO1xyXG4gICAgICAgIHJldHVybiBfdGhpcztcclxuICAgIH1cclxuICAgIEFzeW5jU2NoZWR1bGVyLnByb3RvdHlwZS5mbHVzaCA9IGZ1bmN0aW9uIChhY3Rpb24pIHtcclxuICAgICAgICB2YXIgYWN0aW9ucyA9IHRoaXMuYWN0aW9ucztcclxuICAgICAgICBpZiAodGhpcy5fYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIGFjdGlvbnMucHVzaChhY3Rpb24pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBlcnJvcjtcclxuICAgICAgICB0aGlzLl9hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGRvIHtcclxuICAgICAgICAgICAgaWYgKChlcnJvciA9IGFjdGlvbi5leGVjdXRlKGFjdGlvbi5zdGF0ZSwgYWN0aW9uLmRlbGF5KSkpIHtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpO1xyXG4gICAgICAgIHRoaXMuX2FjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICB3aGlsZSAoKGFjdGlvbiA9IGFjdGlvbnMuc2hpZnQoKSkpIHtcclxuICAgICAgICAgICAgICAgIGFjdGlvbi51bnN1YnNjcmliZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICByZXR1cm4gQXN5bmNTY2hlZHVsZXI7XHJcbn0oU2NoZWR1bGVyKSk7XHJcbmV4cG9ydCB7IEFzeW5jU2NoZWR1bGVyIH07XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzeW5jU2NoZWR1bGVyLmpzLm1hcCIsImltcG9ydCB7IGV4ZWN1dGVTY2hlZHVsZSB9IGZyb20gJy4uL3V0aWwvZXhlY3V0ZVNjaGVkdWxlJztcclxuaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XHJcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcclxuZXhwb3J0IGZ1bmN0aW9uIG9ic2VydmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XHJcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cclxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcclxuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0sIGRlbGF5KTsgfSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkgeyByZXR1cm4gc3Vic2NyaWJlci5jb21wbGV0ZSgpOyB9LCBkZWxheSk7IH0sIGZ1bmN0aW9uIChlcnIpIHsgcmV0dXJuIGV4ZWN1dGVTY2hlZHVsZShzdWJzY3JpYmVyLCBzY2hlZHVsZXIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIHN1YnNjcmliZXIuZXJyb3IoZXJyKTsgfSwgZGVsYXkpOyB9KSk7XHJcbiAgICB9KTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1vYnNlcnZlT24uanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XHJcbmV4cG9ydCBmdW5jdGlvbiBzdWJzY3JpYmVPbihzY2hlZHVsZXIsIGRlbGF5KSB7XHJcbiAgICBpZiAoZGVsYXkgPT09IHZvaWQgMCkgeyBkZWxheSA9IDA7IH1cclxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcclxuICAgICAgICBzdWJzY3JpYmVyLmFkZChzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkgeyByZXR1cm4gc291cmNlLnN1YnNjcmliZShzdWJzY3JpYmVyKTsgfSwgZGVsYXkpKTtcclxuICAgIH0pO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN1YnNjcmliZU9uLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcclxuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xyXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVBc3luY0l0ZXJhYmxlKGlucHV0LCBzY2hlZHVsZXIpIHtcclxuICAgIGlmICghaW5wdXQpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0l0ZXJhYmxlIGNhbm5vdCBiZSBudWxsJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcclxuICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBpdGVyYXRvciA9IGlucHV0W1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpO1xyXG4gICAgICAgICAgICBleGVjdXRlU2NoZWR1bGUoc3Vic2NyaWJlciwgc2NoZWR1bGVyLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVyYXRvci5uZXh0KCkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dChyZXN1bHQudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9LCAwLCB0cnVlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlQXN5bmNJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZWQgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVkJztcclxuaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi9pbm5lckZyb20nO1xyXG5leHBvcnQgZnVuY3Rpb24gZnJvbShpbnB1dCwgc2NoZWR1bGVyKSB7XHJcbiAgICByZXR1cm4gc2NoZWR1bGVyID8gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIDogaW5uZXJGcm9tKGlucHV0KTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1mcm9tLmpzLm1hcCIsImltcG9ydCB7IHNjaGVkdWxlT2JzZXJ2YWJsZSB9IGZyb20gJy4vc2NoZWR1bGVPYnNlcnZhYmxlJztcclxuaW1wb3J0IHsgc2NoZWR1bGVQcm9taXNlIH0gZnJvbSAnLi9zY2hlZHVsZVByb21pc2UnO1xyXG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi9zY2hlZHVsZUFycmF5JztcclxuaW1wb3J0IHsgc2NoZWR1bGVJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVJdGVyYWJsZSc7XHJcbmltcG9ydCB7IHNjaGVkdWxlQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4vc2NoZWR1bGVBc3luY0l0ZXJhYmxlJztcclxuaW1wb3J0IHsgaXNJbnRlcm9wT2JzZXJ2YWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJbnRlcm9wT2JzZXJ2YWJsZSc7XHJcbmltcG9ydCB7IGlzUHJvbWlzZSB9IGZyb20gJy4uL3V0aWwvaXNQcm9taXNlJztcclxuaW1wb3J0IHsgaXNBcnJheUxpa2UgfSBmcm9tICcuLi91dGlsL2lzQXJyYXlMaWtlJztcclxuaW1wb3J0IHsgaXNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNJdGVyYWJsZSc7XHJcbmltcG9ydCB7IGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gJy4uL3V0aWwvaXNBc3luY0l0ZXJhYmxlJztcclxuaW1wb3J0IHsgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IgfSBmcm9tICcuLi91dGlsL3Rocm93VW5vYnNlcnZhYmxlRXJyb3InO1xyXG5pbXBvcnQgeyBpc1JlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4uL3V0aWwvaXNSZWFkYWJsZVN0cmVhbUxpa2UnO1xyXG5pbXBvcnQgeyBzY2hlZHVsZVJlYWRhYmxlU3RyZWFtTGlrZSB9IGZyb20gJy4vc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UnO1xyXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVkKGlucHV0LCBzY2hlZHVsZXIpIHtcclxuICAgIGlmIChpbnB1dCAhPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGlzSW50ZXJvcE9ic2VydmFibGUoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0FycmF5TGlrZShpbnB1dCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc1Byb21pc2UoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZVByb21pc2UoaW5wdXQsIHNjaGVkdWxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0FzeW5jSXRlcmFibGUoaW5wdXQpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUoaW5wdXQsIHNjaGVkdWxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0l0ZXJhYmxlKGlucHV0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0KSkge1xyXG4gICAgICAgICAgICByZXR1cm4gc2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UoaW5wdXQsIHNjaGVkdWxlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgdGhyb3cgY3JlYXRlSW52YWxpZE9ic2VydmFibGVUeXBlRXJyb3IoaW5wdXQpO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjaGVkdWxlZC5qcy5tYXAiLCJpbXBvcnQgeyBpbm5lckZyb20gfSBmcm9tICcuLi9vYnNlcnZhYmxlL2lubmVyRnJvbSc7XHJcbmltcG9ydCB7IG9ic2VydmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9vYnNlcnZlT24nO1xyXG5pbXBvcnQgeyBzdWJzY3JpYmVPbiB9IGZyb20gJy4uL29wZXJhdG9ycy9zdWJzY3JpYmVPbic7XHJcbmV4cG9ydCBmdW5jdGlvbiBzY2hlZHVsZU9ic2VydmFibGUoaW5wdXQsIHNjaGVkdWxlcikge1xyXG4gICAgcmV0dXJuIGlubmVyRnJvbShpbnB1dCkucGlwZShzdWJzY3JpYmVPbihzY2hlZHVsZXIpLCBvYnNlcnZlT24oc2NoZWR1bGVyKSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVPYnNlcnZhYmxlLmpzLm1hcCIsImltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICcuLi9PYnNlcnZhYmxlJztcclxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlQXJyYXkoaW5wdXQsIHNjaGVkdWxlcikge1xyXG4gICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgdmFyIGkgPSAwO1xyXG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoaSA9PT0gaW5wdXQubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQoaW5wdXRbaSsrXSk7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZUFycmF5LmpzLm1hcCIsImltcG9ydCB7IGlubmVyRnJvbSB9IGZyb20gJy4uL29ic2VydmFibGUvaW5uZXJGcm9tJztcclxuaW1wb3J0IHsgb2JzZXJ2ZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL29ic2VydmVPbic7XHJcbmltcG9ydCB7IHN1YnNjcmliZU9uIH0gZnJvbSAnLi4vb3BlcmF0b3JzL3N1YnNjcmliZU9uJztcclxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUHJvbWlzZShpbnB1dCwgc2NoZWR1bGVyKSB7XHJcbiAgICByZXR1cm4gaW5uZXJGcm9tKGlucHV0KS5waXBlKHN1YnNjcmliZU9uKHNjaGVkdWxlciksIG9ic2VydmVPbihzY2hlZHVsZXIpKTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zY2hlZHVsZVByb21pc2UuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xyXG5pbXBvcnQgeyBpdGVyYXRvciBhcyBTeW1ib2xfaXRlcmF0b3IgfSBmcm9tICcuLi9zeW1ib2wvaXRlcmF0b3InO1xyXG5pbXBvcnQgeyBpc0Z1bmN0aW9uIH0gZnJvbSAnLi4vdXRpbC9pc0Z1bmN0aW9uJztcclxuaW1wb3J0IHsgZXhlY3V0ZVNjaGVkdWxlIH0gZnJvbSAnLi4vdXRpbC9leGVjdXRlU2NoZWR1bGUnO1xyXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVJdGVyYWJsZShpbnB1dCwgc2NoZWR1bGVyKSB7XHJcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcclxuICAgICAgICB2YXIgaXRlcmF0b3I7XHJcbiAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpdGVyYXRvciA9IGlucHV0W1N5bWJvbF9pdGVyYXRvcl0oKTtcclxuICAgICAgICAgICAgZXhlY3V0ZVNjaGVkdWxlKHN1YnNjcmliZXIsIHNjaGVkdWxlciwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgdmFyIF9hO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgdmFyIGRvbmU7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIChfYSA9IGl0ZXJhdG9yLm5leHQoKSwgdmFsdWUgPSBfYS52YWx1ZSwgZG9uZSA9IF9hLmRvbmUpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuZXJyb3IoZXJyKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoZG9uZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIDAsIHRydWUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBpc0Z1bmN0aW9uKGl0ZXJhdG9yID09PSBudWxsIHx8IGl0ZXJhdG9yID09PSB2b2lkIDAgPyB2b2lkIDAgOiBpdGVyYXRvci5yZXR1cm4pICYmIGl0ZXJhdG9yLnJldHVybigpOyB9O1xyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVJdGVyYWJsZS5qcy5tYXAiLCJpbXBvcnQgeyBzY2hlZHVsZUFzeW5jSXRlcmFibGUgfSBmcm9tICcuL3NjaGVkdWxlQXN5bmNJdGVyYWJsZSc7XHJcbmltcG9ydCB7IHJlYWRhYmxlU3RyZWFtTGlrZVRvQXN5bmNHZW5lcmF0b3IgfSBmcm9tICcuLi91dGlsL2lzUmVhZGFibGVTdHJlYW1MaWtlJztcclxuZXhwb3J0IGZ1bmN0aW9uIHNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlKGlucHV0LCBzY2hlZHVsZXIpIHtcclxuICAgIHJldHVybiBzY2hlZHVsZUFzeW5jSXRlcmFibGUocmVhZGFibGVTdHJlYW1MaWtlVG9Bc3luY0dlbmVyYXRvcihpbnB1dCksIHNjaGVkdWxlcik7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NoZWR1bGVSZWFkYWJsZVN0cmVhbUxpa2UuanMubWFwIiwiZXhwb3J0IGNsYXNzIFBhcmtpbmdTcG90e1xyXG4gICAgaWQ6IG51bWJlciA9IHVuZGVmaW5lZFxyXG4gICAgcGFya2luZ0hhc2g6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICAgIGNpdHk6IHN0cmluZyA9IHVuZGVmaW5lZDtcclxuICAgIHRpbWVPY2N1cGllZDogc3RyaW5nID0gdW5kZWZpbmVkOyAvL2RhdGVUaW1lP1xyXG4gICAgem9uZTogbnVtYmVyID0gdW5kZWZpbmVkOyAvL2FrbyBqZSAzIG9uZGEgc2UgbmUgcmFjdW5hIHBlbmFsdHkgaSBuaWplIG9ncmFuaWNlbm8sIDIgamUgbWFsbyB1YmxhemVubyAoYWxpIHNlIHJhY3VuYSksIDEgLSBuYWpnb3JlXHJcbiAgICAgICAgLy9wcmVwcmF2aXRpIHUgYmF6aSB6b251IDMgZGEgYnVkZSBudWxsIHphIHRhcmlmdSwgcGVuYWx0eSBpIG1heFRpbWVcclxuICAgIHRhcmlmZjogbnVtYmVyID0gdW5kZWZpbmVkOyAvL292byBzZSBtbm96aSBzYSBwcm92ZWRlbmltIHZyZW1lbm9tIChrYW8ga29lZmljaWplbnQpIGkgdGFrbyBkb2JpamEgY2VuYVxyXG4gICAgcGVuYWx0eUluZGV4OiBudW1iZXIgPSB1bmRlZmluZWQ7IC8vb3ZvIHNlIG1ub3ppIHNhIHRhcmlmb20gYWtvIHNlIHByZWtvcmFjaSBtYXhUaW1lIFxyXG4gICAgbWF4VGltZTogbnVtYmVyID0gdW5kZWZpbmVkO1xyXG4gICAgbG9jYXRpb25YOiBudW1iZXIgPSB1bmRlZmluZWQ7XHJcbiAgICBsb2NhdGlvblk6IG51bWJlciA9IHVuZGVmaW5lZDtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihfaWQ6IG51bWJlciwgX3BhcmtpbmdIYXNoIDogc3RyaW5nLCBfdGltZU9jY3VwaWVkIDogc3RyaW5nLCBfem9uZSA6IG51bWJlciwgX3RhcmlmZiA6IG51bWJlciwgX3BlbmFsdHlJbmRleCA6bnVtYmVyLCBfbWF4VGltZSA6IG51bWJlciwgX2NpdHk6IHN0cmluZywgX2xvY2F0aW9uWDogbnVtYmVyLCBfbG9jYXRpb25ZOiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuaWQgPSBfaWQ7XHJcbiAgICAgICAgdGhpcy5wYXJraW5nSGFzaCA9IF9wYXJraW5nSGFzaDtcclxuICAgICAgICB0aGlzLnRpbWVPY2N1cGllZCA9IF90aW1lT2NjdXBpZWQ7XHJcbiAgICAgICAgdGhpcy56b25lID0gX3pvbmU7XHJcbiAgICAgICAgdGhpcy50YXJpZmYgPSBfdGFyaWZmO1xyXG4gICAgICAgIGlmKHRoaXMuem9uZT09PTMpe1xyXG4gICAgICAgICAgICB0aGlzLnBlbmFsdHlJbmRleD0xO1xyXG4gICAgICAgICAgICB0aGlzLm1heFRpbWUgPSAwO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLnBlbmFsdHlJbmRleD1fcGVuYWx0eUluZGV4O1xyXG4gICAgICAgICAgICB0aGlzLm1heFRpbWUgPSBfbWF4VGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5jaXR5ID0gX2NpdHk7XHJcbiAgICAgICAgdGhpcy5sb2NhdGlvblggPSBfbG9jYXRpb25YO1xyXG4gICAgICAgIHRoaXMubG9jYXRpb25ZID0gX2xvY2F0aW9uWTtcclxuICAgIH1cclxufSIsImltcG9ydCB7ZGVib3VuY2VUaW1lLCBmaWx0ZXIsIGZvcmtKb2luLCBmcm9tLCBmcm9tRXZlbnQsIGludGVydmFsLCBtYXAsIE9ic2VydmFibGUsIFN1YnNjcmlwdGlvbiwgc3dpdGNoTWFwfSBmcm9tIFwicnhqc1wiO1xyXG5pbXBvcnQgeyBQYXJraW5nU3BvdCB9IGZyb20gXCIuLi9tb2RlbHMvUGFya2luZ1Nwb3RcIjtcclxuaW1wb3J0IHtlbnZpcm9ubWVudHN9IGZyb20gXCIuLi9lbnZpcm9ubWVudHNcIjtcclxuaW1wb3J0IHsgY3JlYXRlQ2xpZW50IH0gZnJvbSBcIi4uL21vZGVscy9jbGllbnRTdGF0ZVwiO1xyXG5pbXBvcnQgeyBkcmF3Q2hlY2tlckNvbnRlbnQsIHNob3dDdXJyZW50U3RhdGUgfSBmcm9tIFwiLi4vZHJhd2luZ1wiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrQ29kZShpbnB1dDogSFRNTElucHV0RWxlbWVudCl7XHJcbiAgICBmcm9tRXZlbnQoaW5wdXQsIFwiaW5wdXRcIikucGlwZShcclxuICAgICAgICBkZWJvdW5jZVRpbWUoNTAwKSxcclxuICAgICAgICBtYXAoKGV2OiBJbnB1dEV2ZW50KSA9PiAoPEhUTUxJbnB1dEVsZW1lbnQ+ZXYudGFyZ2V0KS52YWx1ZSksXHJcbiAgICAgICAgZmlsdGVyKHRleHQgPT4gdGV4dC5sZW5ndGggPT0gZW52aXJvbm1lbnRzLmNvZGVMZW5ndGgpLFxyXG4gICAgICAgIHN3aXRjaE1hcCgodGV4dDpzdHJpbmcpID0+IGdldFBhcmtpbmdTcG90KHRleHQpKSxcclxuICAgICkuc3Vic2NyaWJlKChvdXRwdXQpPT57XHJcbiAgICAgICAgaWYob3V0cHV0WzBdLm9jY3VwaWVkID09PSB0cnVlKXtcclxuICAgICAgICAgICAgbGV0IHN0YXRlID0gY3JlYXRlQ2xpZW50KCk7XHJcbiAgICAgICAgICAgIHN0YXRlLnBhcmtlZD10cnVlO1xyXG4gICAgICAgICAgICBzdGF0ZS5wYXJraW5nU3BvdCA9IG5ldyBQYXJraW5nU3BvdChvdXRwdXRbMF0uaWQsIG91dHB1dFswXS5wYXJraW5nSGFzaCwgb3V0cHV0WzBdLnRpbWVPY2N1cGllZCwgb3V0cHV0WzBdLnpvbmUsIG91dHB1dFswXS50YXJpZmYsIG91dHB1dFswXS5wZW5hbHR5SW5kZXgsIG91dHB1dFswXS5tYXhUaW1lLCBvdXRwdXRbMF0uY2l0eSwgb3V0cHV0WzBdLmxvY2F0aW9uWCwgb3V0cHV0WzBdLmxvY2F0aW9uWSk7XHJcbiAgICAgICAgICAgIGRyYXdDaGVja2VyQ29udGVudCgpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBhbGVydChcIlRoaXMgaXMgbm90IHlvdXIgcGFya2luZyBzcG90LlwiKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0UGFya2luZ1Nwb3QoY29kZTpzdHJpbmcpOk9ic2VydmFibGU8YW55PntcclxuICAgIGxldCB1cmwgOiBzdHJpbmcgPSBgJHtlbnZpcm9ubWVudHMuVVJMfS9wYXJraW5ncy8/Y29kZT0ke2NvZGV9YDtcclxuICAgIHJldHVybiBmcm9tKCAgICBcclxuICAgICAgICBmZXRjaCh1cmwpXHJcbiAgICAgICAgLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzLm9rKXtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gICAgICAgICAgICB9IFxyXG4gICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFya2luZyBub3QgZm91bmRcIik7XHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfSlcclxuICAgICAgICAuY2F0Y2goKGVycikgPT4gKGNvbnNvbGUubG9nKGVudmlyb25tZW50cy5jb2RlRXJyb3IpKSlcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjYWxjdWxhdGUoKTogU3Vic2NyaXB0aW9ue1xyXG4gICAgbGV0IHN0YXRlID0gY3JlYXRlQ2xpZW50KCk7XHJcbiAgICBsZXQgZHVyUyA6IG51bWJlciA9IGNhbGN1bGF0ZUR1cmF0aW9uSW5TZWNvbmRzKCk7ICAgIFxyXG4gICAgY29uc3Qgc3ViID0gaW50ZXJ2YWwoMTAwMCkucGlwZShcclxuICAgICAgICBtYXAoICh4KSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBjYWxjdWxhdGVUaW1lQW5kUHJpY2UoZHVyUyx4KTtcclxuICAgICAgICB9KVxyXG4gICAgKS5zdWJzY3JpYmUoKHJlczogW3N0cmluZywgc3RyaW5nLCBudW1iZXIsYm9vbGVhbl0pPT57c2hvd0N1cnJlbnRTdGF0ZShyZXMpfSk7XHJcbiAgICByZXR1cm4gc3ViO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjYWxjdWxhdGVEdXJhdGlvbkluU2Vjb25kcygpOiBudW1iZXJ7XHJcbiAgICBsZXQgc3RhdGUgPSBjcmVhdGVDbGllbnQoKTtcclxuICAgIGxldCB0bXBEYXRlIDogRGF0ZSA9IG5ldyBEYXRlKCk7IFxyXG4gICAgbGV0IHRtcEg6IG51bWJlciA9IHRtcERhdGUuZ2V0SG91cnMoKSozNjA7XHJcbiAgICBsZXQgdG1wTTogbnVtYmVyID0gdG1wRGF0ZS5nZXRNaW51dGVzKCkqNjA7XHJcbiAgICBsZXQgdG1wUzogbnVtYmVyID0gdG1wRGF0ZS5nZXRTZWNvbmRzKCkgKyB0bXBIICsgdG1wTTtcclxuICAgIGxldCB0aW1lT2NjdXBpZWRTcGxpdGVkIDogc3RyaW5nW10gPSBzdGF0ZS5wYXJraW5nU3BvdC50aW1lT2NjdXBpZWQuc3BsaXQoXCI6XCIsMyk7XHJcbiAgICByZXR1cm4gdG1wUyAtIChwYXJzZUludCh0aW1lT2NjdXBpZWRTcGxpdGVkWzBdKSozNjAgKyBwYXJzZUludCh0aW1lT2NjdXBpZWRTcGxpdGVkWzFdKSo2MCArIHBhcnNlSW50KHRpbWVPY2N1cGllZFNwbGl0ZWRbMl0pKSAtIDE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNhbGN1bGF0ZVRpbWVBbmRQcmljZShkdXJTOiBudW1iZXIsIHg6IG51bWJlcik6IFtzdHJpbmcsIHN0cmluZywgbnVtYmVyLCBib29sZWFuXXtcclxuICAgIGxldCBzdGF0ZSA9IGNyZWF0ZUNsaWVudCgpO1xyXG4gICAgbGV0IHJlcyA6IFtzdHJpbmcsIHN0cmluZywgbnVtYmVyLCBib29sZWFuXSA9IFtcIlwiLFwiXCIsMCxmYWxzZV07XHJcbiAgICBsZXQgcGVuYWx0eTogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgZHVyUys9eDtcclxuICAgIHJlc1swXSA9IGAke01hdGguZmxvb3IoZHVyUy8zNjApfToke01hdGguZmxvb3IoKGR1clMlMzYwKS82MCl9OiR7KGR1clMlMzYwKSU2MH1gOyAgICAgICAgICAgICAgICBcclxuICAgIGxldCBpbmRleDpudW1iZXIgPSBzdGF0ZS5wYXJraW5nU3BvdC50YXJpZmY7XHJcbiAgICAvL3phIG1heFRpbWUgdSBzYXRpbWFcclxuICAgIC8vIGlmKHN0YXRlLnBhcmtpbmdTcG90LnpvbmU8MyAmJiBzdGF0ZS5wYXJraW5nU3BvdC5tYXhUaW1lKjM2MCA+IGR1clMpe1xyXG4gICAgLy8gICAgIGluZGV4ICo9IHN0YXRlLnBhcmtpbmdTcG90LnBlbmFsdHlJbmRleDtcclxuICAgIC8vICAgICBwZW5hbHR5ID0gdHJ1ZTtcclxuICAgIC8vIH0gXHJcbiAgICBpZihzdGF0ZS5wYXJraW5nU3BvdC56b25lPDMgJiYgc3RhdGUucGFya2luZ1Nwb3QubWF4VGltZSA8IGR1clMpe1xyXG4gICAgICAgIGluZGV4ICo9IHN0YXRlLnBhcmtpbmdTcG90LnBlbmFsdHlJbmRleDtcclxuICAgICAgICBwZW5hbHR5ID0gdHJ1ZTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIGxldCByZW1haW5pbmdUaW1lID0gc3RhdGUucGFya2luZ1Nwb3QubWF4VGltZSAtIGR1clNcclxuICAgICAgICByZXNbMV0gPSBgJHtNYXRoLmZsb29yKHJlbWFpbmluZ1RpbWUvMzYwKX06JHtNYXRoLmZsb29yKChyZW1haW5pbmdUaW1lJTM2MCkvNjApfTokeyhyZW1haW5pbmdUaW1lJTM2MCklNjB9YDtcclxuICAgIH1cclxuICAgIHJlc1syXSA9IE1hdGgucm91bmQoZW52aXJvbm1lbnRzLnByaWNlUGVyU2Vjb25kICogaW5kZXggKiBkdXJTICogMTAwKSAvIDEwMDsgXHJcbiAgICByZXNbM10gPSBwZW5hbHR5O1xyXG4gICAgcmV0dXJuIHJlcztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGxvZ091dChzdWI6IFN1YnNjcmlwdGlvbil7XHJcbiAgICBzdWIudW5zdWJzY3JpYmUoKTtcclxuICAgIC8vamF2aSBzZXJ2ZXJ1IGRhIGplIHNsb2JvZG5vXHJcbiAgICBmcmVlUGFya2luZygpO1xyXG4gICAgbGV0IHN0YXRlID0gY3JlYXRlQ2xpZW50KCk7XHJcbiAgICBsZXQgaW5mbzogc3RyaW5nID0gZW52aXJvbm1lbnRzLnBheW1lbnRJbmZvK3N0YXRlLnByaWNlO1xyXG4gICAgYWxlcnQoaW5mbyk7XHJcbiAgICBzdGF0ZS5wYXJrZWQgPSBmYWxzZTtcclxuICAgIGRyYXdDaGVja2VyQ29udGVudCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmcmVlUGFya2luZygpOk9ic2VydmFibGU8UmVzcG9uc2U+e1xyXG4gICAgbGV0IHN0YXRlID0gY3JlYXRlQ2xpZW50KCk7XHJcbiAgICBsZXQgdXJsIDogc3RyaW5nID0gYCR7ZW52aXJvbm1lbnRzLlVSTH0vcGFya2luZ3MvJHtzdGF0ZS5wYXJraW5nU3BvdC5pZH1gO1xyXG4gICAgY29uc3QgcHV0UmVxdWVzdDogT2JzZXJ2YWJsZTxSZXNwb25zZT4gPSBmcm9tKCAgICBcclxuICAgICAgICBmZXRjaCh1cmwsIHtcclxuICAgICAgICAgICAgbWV0aG9kOiBcIlBVVFwiLCBcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShcclxuICAgICAgICAgICAgICAgIHsgXHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6c3RhdGUucGFya2luZ1Nwb3QuaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgY29kZTpzdGF0ZS5wYXJraW5nU3BvdC5wYXJraW5nSGFzaCxcclxuICAgICAgICAgICAgICAgICAgICBjaXR5OnN0YXRlLnBhcmtpbmdTcG90LmNpdHksXHJcbiAgICAgICAgICAgICAgICAgICAgem9uZTpzdGF0ZS5wYXJraW5nU3BvdC56b25lLFxyXG4gICAgICAgICAgICAgICAgICAgIHRhcmlmZjogc3RhdGUucGFya2luZ1Nwb3QudGFyaWZmLFxyXG4gICAgICAgICAgICAgICAgICAgIHBlbmFsdHlJbmRleDogc3RhdGUucGFya2luZ1Nwb3QucGVuYWx0eUluZGV4LFxyXG4gICAgICAgICAgICAgICAgICAgIG1heFRpbWU6IHN0YXRlLnBhcmtpbmdTcG90Lm1heFRpbWUsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25YOiBzdGF0ZS5wYXJraW5nU3BvdC5sb2NhdGlvblgsXHJcbiAgICAgICAgICAgICAgICAgICAgbG9jYXRpb25ZOiBzdGF0ZS5wYXJraW5nU3BvdC5sb2NhdGlvblksXHJcbiAgICAgICAgICAgICAgICAgICAgb2NjdXBpZWQ6ZmFsc2UsXHJcbiAgICAgICAgICAgICAgICAgICAgdGltZU9jY3VwaWVkOiBudWxsXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9KVxyXG4gICAgKTtcclxuICAgIHN0YXRlLnBhcmtpbmdTcG90PW51bGw7XHJcbiAgICByZXR1cm4gcHV0UmVxdWVzdDtcclxufSIsImltcG9ydCB7IGFzeW5jU2NoZWR1bGVyIH0gZnJvbSAnLi4vc2NoZWR1bGVyL2FzeW5jJztcclxuaW1wb3J0IHsgdGltZXIgfSBmcm9tICcuL3RpbWVyJztcclxuZXhwb3J0IGZ1bmN0aW9uIGludGVydmFsKHBlcmlvZCwgc2NoZWR1bGVyKSB7XHJcbiAgICBpZiAocGVyaW9kID09PSB2b2lkIDApIHsgcGVyaW9kID0gMDsgfVxyXG4gICAgaWYgKHNjaGVkdWxlciA9PT0gdm9pZCAwKSB7IHNjaGVkdWxlciA9IGFzeW5jU2NoZWR1bGVyOyB9XHJcbiAgICBpZiAocGVyaW9kIDwgMCkge1xyXG4gICAgICAgIHBlcmlvZCA9IDA7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGltZXIocGVyaW9kLCBwZXJpb2QsIHNjaGVkdWxlcik7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW50ZXJ2YWwuanMubWFwIiwiaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJy4uL09ic2VydmFibGUnO1xyXG5pbXBvcnQgeyBhc3luYyBhcyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XHJcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XHJcbmltcG9ydCB7IGlzVmFsaWREYXRlIH0gZnJvbSAnLi4vdXRpbC9pc0RhdGUnO1xyXG5leHBvcnQgZnVuY3Rpb24gdGltZXIoZHVlVGltZSwgaW50ZXJ2YWxPclNjaGVkdWxlciwgc2NoZWR1bGVyKSB7XHJcbiAgICBpZiAoZHVlVGltZSA9PT0gdm9pZCAwKSB7IGR1ZVRpbWUgPSAwOyB9XHJcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cclxuICAgIHZhciBpbnRlcnZhbER1cmF0aW9uID0gLTE7XHJcbiAgICBpZiAoaW50ZXJ2YWxPclNjaGVkdWxlciAhPSBudWxsKSB7XHJcbiAgICAgICAgaWYgKGlzU2NoZWR1bGVyKGludGVydmFsT3JTY2hlZHVsZXIpKSB7XHJcbiAgICAgICAgICAgIHNjaGVkdWxlciA9IGludGVydmFsT3JTY2hlZHVsZXI7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBpbnRlcnZhbER1cmF0aW9uID0gaW50ZXJ2YWxPclNjaGVkdWxlcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IE9ic2VydmFibGUoZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcclxuICAgICAgICB2YXIgZHVlID0gaXNWYWxpZERhdGUoZHVlVGltZSkgPyArZHVlVGltZSAtIHNjaGVkdWxlci5ub3coKSA6IGR1ZVRpbWU7XHJcbiAgICAgICAgaWYgKGR1ZSA8IDApIHtcclxuICAgICAgICAgICAgZHVlID0gMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIG4gPSAwO1xyXG4gICAgICAgIHJldHVybiBzY2hlZHVsZXIuc2NoZWR1bGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoIXN1YnNjcmliZXIuY2xvc2VkKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLm5leHQobisrKTtcclxuICAgICAgICAgICAgICAgIGlmICgwIDw9IGludGVydmFsRHVyYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlKHVuZGVmaW5lZCwgaW50ZXJ2YWxEdXJhdGlvbik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBzdWJzY3JpYmVyLmNvbXBsZXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCBkdWUpO1xyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dGltZXIuanMubWFwIiwiaW1wb3J0IHsgaXNGdW5jdGlvbiB9IGZyb20gJy4vaXNGdW5jdGlvbic7XHJcbmV4cG9ydCBmdW5jdGlvbiBpc1NjaGVkdWxlcih2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlICYmIGlzRnVuY3Rpb24odmFsdWUuc2NoZWR1bGUpO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzU2NoZWR1bGVyLmpzLm1hcCIsImV4cG9ydCBmdW5jdGlvbiBpc1ZhbGlkRGF0ZSh2YWx1ZSkge1xyXG4gICAgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgRGF0ZSAmJiAhaXNOYU4odmFsdWUpO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWlzRGF0ZS5qcy5tYXAiLCJpbXBvcnQge2NyZWF0ZUNsaWVudH0gZnJvbSBcIi4vbW9kZWxzL2NsaWVudFN0YXRlXCI7XHJcbmltcG9ydCB7IGNhbGN1bGF0ZSwgY2hlY2tDb2RlLCBsb2dPdXQgfSBmcm9tIFwiLi9jb250cm9sbGVyL29ic2VydmFibGVcIjtcclxuaW1wb3J0IHsgZW52aXJvbm1lbnRzIH0gZnJvbSBcIi4vZW52aXJvbm1lbnRzXCI7XHJcblxyXG5jb25zdCBzdGF0ZSA9IGNyZWF0ZUNsaWVudCgpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXcoY29udGFpbmVyOkhUTUxFbGVtZW50KXtcclxuICAgIGNvbnN0IG1haW5EaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIG1haW5EaXYuY2xhc3NMaXN0LmFkZChcIm1haW5EaXZcIik7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobWFpbkRpdik7ICBcclxuXHJcbiAgICBjb25zdCBmb290ZXJEaXYgOkhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGZvb3RlckRpdi5jbGFzc0xpc3QuYWRkKFwiZm9vdGVyXCIpO1xyXG4gICAgY29uc3QgZm9vdGVyVGV4dCA6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcbiAgICBmb290ZXJUZXh0LmlubmVySFRNTCA9IGVudmlyb25tZW50cy5mb290ZXI7XHJcbiAgICBmb290ZXJEaXYuYXBwZW5kQ2hpbGQoZm9vdGVyVGV4dCk7XHJcbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoZm9vdGVyRGl2KTtcclxuXHJcbiAgICBjb25zdCBjZW50ZXJEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGNlbnRlckRpdi5jbGFzc0xpc3QuYWRkKFwiY2VudGVyRGl2XCIpO1xyXG4gICAgbWFpbkRpdi5hcHBlbmRDaGlsZChjZW50ZXJEaXYpOyAgICBcclxuXHJcbiAgICBjb25zdCBvcHRpb25zRGl2OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBvcHRpb25zRGl2LmNsYXNzTGlzdC5hZGQoXCJvcHRpb25zRGl2XCIpO1xyXG4gICAgY2VudGVyRGl2LmFwcGVuZENoaWxkKG9wdGlvbnNEaXYpO1xyXG5cclxuICAgIGNvbnN0IGNvbnRlbnREaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGNvbnRlbnREaXYuY2xhc3NMaXN0LmFkZChcImNvbnRlbnREaXZcIik7XHJcbiAgICBjZW50ZXJEaXYuYXBwZW5kQ2hpbGQoY29udGVudERpdik7XHJcbiAgICBcclxuICAgIGNvbnN0IHRhYnNEaXY6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIHRhYnNEaXYuY2xhc3NMaXN0LmFkZChcInRhYnNEaXZcIik7XHJcbiAgICBvcHRpb25zRGl2LmFwcGVuZENoaWxkKHRhYnNEaXYpOyAgICAgIFxyXG5cclxuICAgIGxldCB0YWI6SFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdGFiLmNsYXNzTGlzdC5hZGQoXCJ0YWJcIik7XHJcbiAgICB0YWIuY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkVGFiXCIpO1xyXG4gICAgdGFiLmlubmVySFRNTCA9IFwiRmluZCBwYXJraW5nXCI7XHJcbiAgICB0YWIuc2V0QXR0cmlidXRlKFwiaWRcIixcImZpbmRlci10YWJcIik7XHJcbiAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldik9PntcclxuICAgICAgICBjaGFuZ2VUYWJUbyhcImZpbmRlci10YWJcIik7XHJcbiAgICB9KTtcclxuICAgIHRhYnNEaXYuYXBwZW5kQ2hpbGQodGFiKTtcclxuXHJcbiAgICB0YWIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgdGFiLmNsYXNzTGlzdC5hZGQoXCJ0YWJcIik7XHJcbiAgICB0YWIuaW5uZXJIVE1MID0gXCJDaGVjayBzdGF0dXNcIjtcclxuICAgIHRhYi5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwiY2hlY2tlci10YWJcIik7XHJcbiAgICB0YWIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldik9PntcclxuICAgICAgICBjaGFuZ2VUYWJUbyhcImNoZWNrZXItdGFiXCIpO1xyXG4gICAgfSk7XHJcbiAgICB0YWJzRGl2LmFwcGVuZENoaWxkKHRhYik7XHJcblxyXG4gICAgY29uc3QgaG9yaXNvbnRhbExpbmU6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuICAgIGhvcmlzb250YWxMaW5lLmNsYXNzTGlzdC5hZGQoXCJockxpbmVcIik7XHJcbiAgICBvcHRpb25zRGl2LmFwcGVuZENoaWxkKGhvcmlzb250YWxMaW5lKTtcclxuXHJcbiAgICAvL2NvbnRlbnRcclxuICAgIGRyYXdGaW5kZXJDb250ZW50KCk7XHJcblxyXG59XHJcblxyXG5mdW5jdGlvbiBjaGFuZ2VUYWJUbyhuZXdUYWI6IHN0cmluZyl7XHJcbiAgICBpZihzdGF0ZS5jdXJyZW50VGFiICE9PSBuZXdUYWIpe1xyXG4gICAgICAgIGxldCBjdXJyZW50VGFiSHRtbEVsZW1lbnQ6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RhdGUuY3VycmVudFRhYik7XHJcbiAgICAgICAgY3VycmVudFRhYkh0bWxFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFRhYlwiKTtcclxuICAgICAgICBsZXQgbmV4dFRhYkh0bWxFbGVtZW50OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG5ld1RhYik7XHJcbiAgICAgICAgbmV4dFRhYkh0bWxFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJzZWxlY3RlZFRhYlwiKTtcclxuICAgICAgICBzdGF0ZS5jdXJyZW50VGFiID0gbmV3VGFiO1xyXG4gICAgICAgIGlmKHN0YXRlLmN1cnJlbnRUYWIgPT09IFwiZmluZGVyLXRhYlwiKXtcclxuICAgICAgICAgICAgZHJhd0ZpbmRlckNvbnRlbnQoKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgZHJhd0NoZWNrZXJDb250ZW50KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3RmluZGVyQ29udGVudCgpe1xyXG4gICAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29udGVudERpdlwiKVswXTtcclxuICAgIFxyXG4gICAgY29udGVudERpdi5jaGlsZE5vZGVzLmZvckVhY2goKHgpPT57XHJcbiAgICAgICAgY29udGVudERpdi5yZW1vdmVDaGlsZCh4KTtcclxuICAgIH0pO1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGRyYXdDaGVja2VyQ29udGVudCgpe1xyXG4gICAgbGV0IGNvbnRlbnREaXYgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiY29udGVudERpdlwiKVswXTtcclxuXHJcbiAgICBjb250ZW50RGl2LmNoaWxkTm9kZXMuZm9yRWFjaCgoeCk9PntcclxuICAgICAgICBjb250ZW50RGl2LnJlbW92ZUNoaWxkKHgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbGV0IHBhcmtpbmdTcG90Qm94OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICBwYXJraW5nU3BvdEJveC5jbGFzc0xpc3QuYWRkKFwicGFya2luZ1Nwb3RCb3hcIik7XHJcbiAgICBpZihzdGF0ZS5wYXJrZWQpe1xyXG4gICAgICAgIHBhcmtpbmdTcG90Qm94LmNsYXNzTGlzdC5hZGQoXCJwYXJraW5nU3BvdEJveEFkZGl0aW9uXCIpO1xyXG4gICAgfVxyXG4gICAgY29udGVudERpdi5hcHBlbmRDaGlsZChwYXJraW5nU3BvdEJveCk7XHJcbiAgICBpZighc3RhdGUucGFya2VkKXtcclxuICAgICAgICBsZXQgbGFiZWw6IEhUTUxMYWJlbEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XHJcbiAgICAgICAgbGFiZWwuY2xhc3NMaXN0LmFkZChcImVudGVyQ29kZUxhYmVsXCIpO1xyXG4gICAgICAgIGxhYmVsLmlubmVySFRNTCA9IGAke2Vudmlyb25tZW50cy5sYWJlbEVudGVyQ29kZVN0cmluZ31gO1xyXG4gICAgICAgIHBhcmtpbmdTcG90Qm94LmFwcGVuZENoaWxkKGxhYmVsKTtcclxuICAgICAgICBsZXQgaW5wdXRIYXNoRmllbGQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcbiAgICAgICAgaW5wdXRIYXNoRmllbGQubWF4TGVuZ3RoID0gZW52aXJvbm1lbnRzLmNvZGVMZW5ndGg7XHJcbiAgICAgICAgcGFya2luZ1Nwb3RCb3guYXBwZW5kQ2hpbGQoaW5wdXRIYXNoRmllbGQpO1xyXG4gICAgICAgIGNoZWNrQ29kZShpbnB1dEhhc2hGaWVsZCk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBsZXQgaW5mb0JveDogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIGluZm9Cb3guY2xhc3NMaXN0LmFkZChcImluZm9Cb3hcIik7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IGxhYmVsOiBIVE1MTGFiZWxFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG4gICAgICAgIGxhYmVsLnNldEF0dHJpYnV0ZShcImlkXCIsXCJ0aW1lU3BlbnRMYWJlbFwiKTtcclxuICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKFwiaW5mb0xhYmVsXCIpO1xyXG4gICAgICAgIGluZm9Cb3guYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwicHJpY2VMYWJlbFwiKTtcclxuICAgICAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKFwiaW5mb0xhYmVsXCIpO1xyXG4gICAgICAgIGluZm9Cb3guYXBwZW5kQ2hpbGQobGFiZWwpO1xyXG5cclxuICAgICAgICBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcclxuICAgICAgICBsYWJlbC5zZXRBdHRyaWJ1dGUoXCJpZFwiLFwicmVtYWluaW5nVGltZUxhYmVsXCIpO1xyXG4gICAgICAgIGxhYmVsLmNsYXNzTGlzdC5hZGQoXCJpbmZvTGFiZWxcIik7XHJcbiAgICAgICAgaW5mb0JveC5hcHBlbmRDaGlsZChsYWJlbCk7XHJcblxyXG4gICAgICAgIHBhcmtpbmdTcG90Qm94LmFwcGVuZENoaWxkKGluZm9Cb3gpO1xyXG4gICAgICAgIGxldCBsb2dPdXRCdXR0b24gOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7XHJcbiAgICAgICAgbG9nT3V0QnV0dG9uLmlubmVySFRNTCA9IFwiUGF5XCI7ICAgICAgICBcclxuICAgICAgICBwYXJraW5nU3BvdEJveC5hcHBlbmRDaGlsZChsb2dPdXRCdXR0b24pO1xyXG5cclxuICAgICAgICBsZXQgc3ViID0gY2FsY3VsYXRlKCk7XHJcblxyXG4gICAgICAgIGxvZ091dEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2KT0+e1xyXG4gICAgICAgICAgICBsb2dPdXQoc3ViKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNob3dDdXJyZW50U3RhdGUob3V0cHV0OiBbc3RyaW5nLCBzdHJpbmcsIG51bWJlciwgYm9vbGVhbl0pe1xyXG4gICAgbGV0IHN0YXRlID0gY3JlYXRlQ2xpZW50KCk7ICAgIFxyXG4gICAgbGV0IGR1cmF0aW9uID0gb3V0cHV0WzBdO1xyXG4gICAgc3RhdGUucHJpY2UgPSBvdXRwdXRbMl07XHJcbiAgICBsZXQgbGFiZWxUaW1lIDogSFRNTEVsZW1lbnQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGltZVNwZW50TGFiZWxcIik7XHJcbiAgICBsZXQgbGFiZWxQcmljZSA6IEhUTUxFbGVtZW50PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInByaWNlTGFiZWxcIik7XHJcbiAgICBsZXQgbGFiZWxSZW1haW5pbmdUaW1lIDogSFRNTEVsZW1lbnQ9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVtYWluaW5nVGltZUxhYmVsXCIpO1xyXG4gICAgaWYob3V0cHV0WzNdKXtcclxuICAgICAgICBsYWJlbFRpbWUuY2xhc3NMaXN0LmFkZChcImluZm9MYWJlbFBlbmFsdHlcIik7XHJcbiAgICAgICAgbGFiZWxQcmljZS5jbGFzc0xpc3QuYWRkKFwiaW5mb0xhYmVsUGVuYWx0eVwiKTtcclxuICAgICAgICBsYWJlbFJlbWFpbmluZ1RpbWUuaW5uZXJIVE1MID0gYCR7ZW52aXJvbm1lbnRzLmxhYmVsUmVtYWluaW5nVGltZVBlbmFsdHlTdHJpbmd9YDtcclxuICAgICAgICBsYWJlbFJlbWFpbmluZ1RpbWUuY2xhc3NMaXN0LmFkZChcImluZm9MYWJlbFBlbmFsdHlcIik7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBsYWJlbFJlbWFpbmluZ1RpbWUuaW5uZXJIVE1MID0gYCR7ZW52aXJvbm1lbnRzLmxhYmVsUmVtYWluaW5nVGltZVN0cmluZ30ke291dHB1dFsxXX1gO1xyXG4gICAgfVxyXG4gICAgbGFiZWxUaW1lLmlubmVySFRNTCA9IGAke2Vudmlyb25tZW50cy5sYWJlbFRpbWVTdHJpbmd9JHtkdXJhdGlvbn1gO1xyXG4gICAgbGFiZWxQcmljZS5pbm5lckhUTUwgPSBgJHtlbnZpcm9ubWVudHMubGFiZWxQcmljZVN0cmluZ30ke3N0YXRlLnByaWNlfSAke2Vudmlyb25tZW50cy5jdXJyZW5jeX1gO1xyXG59IiwiaW1wb3J0IHsgaW5uZXJGcm9tIH0gZnJvbSAnLi4vb2JzZXJ2YWJsZS9pbm5lckZyb20nO1xyXG5pbXBvcnQgeyBvcGVyYXRlIH0gZnJvbSAnLi4vdXRpbC9saWZ0JztcclxuaW1wb3J0IHsgY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyIH0gZnJvbSAnLi9PcGVyYXRvclN1YnNjcmliZXInO1xyXG5leHBvcnQgZnVuY3Rpb24gc3dpdGNoTWFwKHByb2plY3QsIHJlc3VsdFNlbGVjdG9yKSB7XHJcbiAgICByZXR1cm4gb3BlcmF0ZShmdW5jdGlvbiAoc291cmNlLCBzdWJzY3JpYmVyKSB7XHJcbiAgICAgICAgdmFyIGlubmVyU3Vic2NyaWJlciA9IG51bGw7XHJcbiAgICAgICAgdmFyIGluZGV4ID0gMDtcclxuICAgICAgICB2YXIgaXNDb21wbGV0ZSA9IGZhbHNlO1xyXG4gICAgICAgIHZhciBjaGVja0NvbXBsZXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gaXNDb21wbGV0ZSAmJiAhaW5uZXJTdWJzY3JpYmVyICYmIHN1YnNjcmliZXIuY29tcGxldGUoKTsgfTtcclxuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgaW5uZXJTdWJzY3JpYmVyID09PSBudWxsIHx8IGlubmVyU3Vic2NyaWJlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogaW5uZXJTdWJzY3JpYmVyLnVuc3Vic2NyaWJlKCk7XHJcbiAgICAgICAgICAgIHZhciBpbm5lckluZGV4ID0gMDtcclxuICAgICAgICAgICAgdmFyIG91dGVySW5kZXggPSBpbmRleCsrO1xyXG4gICAgICAgICAgICBpbm5lckZyb20ocHJvamVjdCh2YWx1ZSwgb3V0ZXJJbmRleCkpLnN1YnNjcmliZSgoaW5uZXJTdWJzY3JpYmVyID0gY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uIChpbm5lclZhbHVlKSB7IHJldHVybiBzdWJzY3JpYmVyLm5leHQocmVzdWx0U2VsZWN0b3IgPyByZXN1bHRTZWxlY3Rvcih2YWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCsrKSA6IGlubmVyVmFsdWUpOyB9LCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBpbm5lclN1YnNjcmliZXIgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tDb21wbGV0ZSgpO1xyXG4gICAgICAgICAgICB9KSkpO1xyXG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaXNDb21wbGV0ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNoZWNrQ29tcGxldGUoKTtcclxuICAgICAgICB9KSk7XHJcbiAgICB9KTtcclxufVxyXG4vLyMgc291cmNlTWFwcGluZ1VSTD1zd2l0Y2hNYXAuanMubWFwIiwiaW1wb3J0IHsgb3BlcmF0ZSB9IGZyb20gJy4uL3V0aWwvbGlmdCc7XHJcbmltcG9ydCB7IGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciB9IGZyb20gJy4vT3BlcmF0b3JTdWJzY3JpYmVyJztcclxuZXhwb3J0IGZ1bmN0aW9uIGZpbHRlcihwcmVkaWNhdGUsIHRoaXNBcmcpIHtcclxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcclxuICAgICAgICB2YXIgaW5kZXggPSAwO1xyXG4gICAgICAgIHNvdXJjZS5zdWJzY3JpYmUoY3JlYXRlT3BlcmF0b3JTdWJzY3JpYmVyKHN1YnNjcmliZXIsIGZ1bmN0aW9uICh2YWx1ZSkgeyByZXR1cm4gcHJlZGljYXRlLmNhbGwodGhpc0FyZywgdmFsdWUsIGluZGV4KyspICYmIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7IH0pKTtcclxuICAgIH0pO1xyXG59XHJcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbHRlci5qcy5tYXAiLCJpbXBvcnQgeyBhc3luY1NjaGVkdWxlciB9IGZyb20gJy4uL3NjaGVkdWxlci9hc3luYyc7XHJcbmltcG9ydCB7IG9wZXJhdGUgfSBmcm9tICcuLi91dGlsL2xpZnQnO1xyXG5pbXBvcnQgeyBjcmVhdGVPcGVyYXRvclN1YnNjcmliZXIgfSBmcm9tICcuL09wZXJhdG9yU3Vic2NyaWJlcic7XHJcbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZVRpbWUoZHVlVGltZSwgc2NoZWR1bGVyKSB7XHJcbiAgICBpZiAoc2NoZWR1bGVyID09PSB2b2lkIDApIHsgc2NoZWR1bGVyID0gYXN5bmNTY2hlZHVsZXI7IH1cclxuICAgIHJldHVybiBvcGVyYXRlKGZ1bmN0aW9uIChzb3VyY2UsIHN1YnNjcmliZXIpIHtcclxuICAgICAgICB2YXIgYWN0aXZlVGFzayA9IG51bGw7XHJcbiAgICAgICAgdmFyIGxhc3RWYWx1ZSA9IG51bGw7XHJcbiAgICAgICAgdmFyIGxhc3RUaW1lID0gbnVsbDtcclxuICAgICAgICB2YXIgZW1pdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKGFjdGl2ZVRhc2spIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sudW5zdWJzY3JpYmUoKTtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gbGFzdFZhbHVlO1xyXG4gICAgICAgICAgICAgICAgbGFzdFZhbHVlID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIubmV4dCh2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGZ1bmN0aW9uIGVtaXRXaGVuSWRsZSgpIHtcclxuICAgICAgICAgICAgdmFyIHRhcmdldFRpbWUgPSBsYXN0VGltZSArIGR1ZVRpbWU7XHJcbiAgICAgICAgICAgIHZhciBub3cgPSBzY2hlZHVsZXIubm93KCk7XHJcbiAgICAgICAgICAgIGlmIChub3cgPCB0YXJnZXRUaW1lKSB7XHJcbiAgICAgICAgICAgICAgICBhY3RpdmVUYXNrID0gdGhpcy5zY2hlZHVsZSh1bmRlZmluZWQsIHRhcmdldFRpbWUgLSBub3cpO1xyXG4gICAgICAgICAgICAgICAgc3Vic2NyaWJlci5hZGQoYWN0aXZlVGFzayk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZW1pdCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzb3VyY2Uuc3Vic2NyaWJlKGNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlcihzdWJzY3JpYmVyLCBmdW5jdGlvbiAodmFsdWUpIHtcclxuICAgICAgICAgICAgbGFzdFZhbHVlID0gdmFsdWU7XHJcbiAgICAgICAgICAgIGxhc3RUaW1lID0gc2NoZWR1bGVyLm5vdygpO1xyXG4gICAgICAgICAgICBpZiAoIWFjdGl2ZVRhc2spIHtcclxuICAgICAgICAgICAgICAgIGFjdGl2ZVRhc2sgPSBzY2hlZHVsZXIuc2NoZWR1bGUoZW1pdFdoZW5JZGxlLCBkdWVUaW1lKTtcclxuICAgICAgICAgICAgICAgIHN1YnNjcmliZXIuYWRkKGFjdGl2ZVRhc2spO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBlbWl0KCk7XHJcbiAgICAgICAgICAgIHN1YnNjcmliZXIuY29tcGxldGUoKTtcclxuICAgICAgICB9LCB1bmRlZmluZWQsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgbGFzdFZhbHVlID0gYWN0aXZlVGFzayA9IG51bGw7XHJcbiAgICAgICAgfSkpO1xyXG4gICAgfSk7XHJcbn1cclxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGVib3VuY2VUaW1lLmpzLm1hcCIsImltcG9ydCB7XHJcbiAgICBkcmF3XHJcbn0gZnJvbSBcIi4vZHJhd2luZ1wiO1xyXG5pbXBvcnR7Y3JlYXRlQ2xpZW50fSBmcm9tIFwiLi9tb2RlbHMvY2xpZW50U3RhdGVcIjtcclxuXHJcbmNvbnN0IHN0YXRlID0gY3JlYXRlQ2xpZW50KCk7XHJcblxyXG5kcmF3KGRvY3VtZW50LmJvZHkpOyJdLCJuYW1lcyI6WyJlbnZpcm9ubWVudHMiLCJzdGF0ZSIsInVuZGVmaW5lZCIsImN1cnJUYWIiLCJ0aGlzIiwiY3VycmVudFRhYiIsInBhcmtlZCIsInBhcmtpbmdTcG90IiwiY3JlYXRlQ2xpZW50IiwiY2xpZW50U3RhdGUiLCJleHRlbmRTdGF0aWNzIiwiZCIsImIiLCJPYmplY3QiLCJzZXRQcm90b3R5cGVPZiIsIl9fcHJvdG9fXyIsIkFycmF5IiwicCIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwiY2FsbCIsIl9fZXh0ZW5kcyIsIlR5cGVFcnJvciIsIlN0cmluZyIsIl9fIiwiY29uc3RydWN0b3IiLCJjcmVhdGUiLCJfX2dlbmVyYXRvciIsInRoaXNBcmciLCJib2R5IiwiZiIsInkiLCJ0IiwiZyIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm4iLCJ2Iiwib3AiLCJkb25lIiwidmFsdWUiLCJwb3AiLCJsZW5ndGgiLCJwdXNoIiwiZSIsInN0ZXAiLCJfX3ZhbHVlcyIsIm8iLCJzIiwibSIsImkiLCJfX3JlYWQiLCJyIiwiYXIiLCJlcnJvciIsIl9fc3ByZWFkQXJyYXkiLCJ0byIsImZyb20iLCJwYWNrIiwiYXJndW1lbnRzIiwibCIsInNsaWNlIiwiY29uY2F0IiwiX19hd2FpdCIsIl9fYXN5bmNHZW5lcmF0b3IiLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwiYXN5bmNJdGVyYXRvciIsImFwcGx5IiwicSIsIlByb21pc2UiLCJhIiwicmVzdW1lIiwicmVzb2x2ZSIsInRoZW4iLCJmdWxmaWxsIiwicmVqZWN0Iiwic2V0dGxlIiwic2hpZnQiLCJpc0FycmF5TGlrZSIsIngiLCJpc0Z1bmN0aW9uIiwiaXNQcm9taXNlIiwiY3RvckZ1bmMiLCJVbnN1YnNjcmlwdGlvbkVycm9yIiwiX3N1cGVyIiwiZXJyb3JzIiwibWVzc2FnZSIsIm1hcCIsImVyciIsInRvU3RyaW5nIiwiam9pbiIsIm5hbWUiLCJjcmVhdGVJbXBsIiwiaW5zdGFuY2UiLCJFcnJvciIsInN0YWNrIiwiYXJyUmVtb3ZlIiwiYXJyIiwiaXRlbSIsImluZGV4IiwiaW5kZXhPZiIsInNwbGljZSIsIlN1YnNjcmlwdGlvbiIsImluaXRpYWxUZWFyZG93biIsImNsb3NlZCIsIl9wYXJlbnRhZ2UiLCJfZmluYWxpemVycyIsImVtcHR5IiwidW5zdWJzY3JpYmUiLCJlXzEiLCJfYSIsImVfMiIsIl9iIiwiaXNBcnJheSIsIl9wYXJlbnRhZ2VfMSIsIl9wYXJlbnRhZ2VfMV8xIiwicmVtb3ZlIiwiZV8xXzEiLCJyZXR1cm4iLCJpbml0aWFsRmluYWxpemVyIiwiX2ZpbmFsaXplcnNfMSIsIl9maW5hbGl6ZXJzXzFfMSIsImZpbmFsaXplciIsImV4ZWNGaW5hbGl6ZXIiLCJlXzJfMSIsImFkZCIsInRlYXJkb3duIiwiX2hhc1BhcmVudCIsIl9hZGRQYXJlbnQiLCJwYXJlbnQiLCJpbmNsdWRlcyIsIl9yZW1vdmVQYXJlbnQiLCJFTVBUWSIsImlzU3Vic2NyaXB0aW9uIiwiY29uZmlnIiwidGltZW91dFByb3ZpZGVyIiwic2V0VGltZW91dCIsImhhbmRsZXIiLCJ0aW1lb3V0IiwiYXJncyIsIl9pIiwiZGVsZWdhdGUiLCJjbGVhclRpbWVvdXQiLCJoYW5kbGUiLCJyZXBvcnRVbmhhbmRsZWRFcnJvciIsIm5vb3AiLCJDT01QTEVURV9OT1RJRklDQVRJT04iLCJjcmVhdGVOb3RpZmljYXRpb24iLCJraW5kIiwiY29udGV4dCIsIlN1YnNjcmliZXIiLCJkZXN0aW5hdGlvbiIsIl90aGlzIiwiaXNTdG9wcGVkIiwiRU1QVFlfT0JTRVJWRVIiLCJjb21wbGV0ZSIsIlNhZmVTdWJzY3JpYmVyIiwiaGFuZGxlU3RvcHBlZE5vdGlmaWNhdGlvbiIsIm5leHROb3RpZmljYXRpb24iLCJfbmV4dCIsIl9lcnJvciIsIl9jb21wbGV0ZSIsIl9iaW5kIiwiRnVuY3Rpb24iLCJiaW5kIiwiZm4iLCJDb25zdW1lck9ic2VydmVyIiwicGFydGlhbE9ic2VydmVyIiwiaGFuZGxlVW5oYW5kbGVkRXJyb3IiLCJvYnNlcnZlck9yTmV4dCIsImNvbnRleHRfMSIsImVycm9yVGhyb3duIiwibm90aWZpY2F0aW9uIiwic3Vic2NyaWJlciIsIm9uU3RvcHBlZE5vdGlmaWNhdGlvbiIsIm9ic2VydmFibGUiLCJpZGVudGl0eSIsInBpcGVGcm9tQXJyYXkiLCJmbnMiLCJpbnB1dCIsInJlZHVjZSIsInByZXYiLCJPYnNlcnZhYmxlIiwic3Vic2NyaWJlIiwiX3N1YnNjcmliZSIsImxpZnQiLCJvcGVyYXRvciIsInNvdXJjZSIsImlzT2JzZXJ2ZXIiLCJjYiIsImlzUm9vdCIsImVycm9yQ29udGV4dCIsIl90cnlTdWJzY3JpYmUiLCJzaW5rIiwiZm9yRWFjaCIsInByb21pc2VDdG9yIiwiZ2V0UHJvbWlzZUN0b3IiLCJwaXBlIiwib3BlcmF0aW9ucyIsInRvUHJvbWlzZSIsImlzSW50ZXJvcE9ic2VydmFibGUiLCJpc0FzeW5jSXRlcmFibGUiLCJvYmoiLCJjcmVhdGVJbnZhbGlkT2JzZXJ2YWJsZVR5cGVFcnJvciIsImlzSXRlcmFibGUiLCJyZWFkYWJsZVN0cmVhbUxpa2VUb0FzeW5jR2VuZXJhdG9yIiwicmVhZGFibGVTdHJlYW0iLCJyZWFkZXIiLCJnZXRSZWFkZXIiLCJyZWFkIiwicmVsZWFzZUxvY2siLCJpc1JlYWRhYmxlU3RyZWFtTGlrZSIsImlubmVyRnJvbSIsIm9icyIsImFycmF5IiwicHJvbWlzZSIsImZyb21Bc3luY0l0ZXJhYmxlIiwiaXRlcmFibGUiLCJpdGVyYWJsZV8xIiwiaXRlcmFibGVfMV8xIiwiYXN5bmNJdGVyYWJsZSIsImFzeW5jSXRlcmFibGVfMSIsImFzeW5jSXRlcmFibGVfMV8xIiwiUCIsIl9fYXN5bmNWYWx1ZXMiLCJmdWxmaWxsZWQiLCJyZWplY3RlZCIsInJlc3VsdCIsInByb2Nlc3MiLCJjYXRjaCIsIm9wZXJhdGUiLCJpbml0IiwiaGFzTGlmdCIsImxpZnRlZFNvdXJjZSIsImNyZWF0ZU9wZXJhdG9yU3Vic2NyaWJlciIsIm9uTmV4dCIsIm9uQ29tcGxldGUiLCJvbkVycm9yIiwib25GaW5hbGl6ZSIsIk9wZXJhdG9yU3Vic2NyaWJlciIsInNob3VsZFVuc3Vic2NyaWJlIiwiY2xvc2VkXzEiLCJwcm9qZWN0IiwiZXhlY3V0ZVNjaGVkdWxlIiwicGFyZW50U3Vic2NyaXB0aW9uIiwic2NoZWR1bGVyIiwid29yayIsImRlbGF5IiwicmVwZWF0Iiwic2NoZWR1bGVTdWJzY3JpcHRpb24iLCJzY2hlZHVsZSIsIm1lcmdlTWFwIiwicmVzdWx0U2VsZWN0b3IiLCJjb25jdXJyZW50IiwiSW5maW5pdHkiLCJpaSIsIm9uQmVmb3JlTmV4dCIsImV4cGFuZCIsImlubmVyU3ViU2NoZWR1bGVyIiwiYWRkaXRpb25hbEZpbmFsaXplciIsImJ1ZmZlciIsImFjdGl2ZSIsImlzQ29tcGxldGUiLCJjaGVja0NvbXBsZXRlIiwib3V0ZXJOZXh0IiwiZG9Jbm5lclN1YiIsImlubmVyQ29tcGxldGUiLCJpbm5lclZhbHVlIiwiYnVmZmVyZWRWYWx1ZSIsIm1lcmdlSW50ZXJuYWxzIiwibm9kZUV2ZW50RW1pdHRlck1ldGhvZHMiLCJldmVudFRhcmdldE1ldGhvZHMiLCJqcXVlcnlNZXRob2RzIiwiZnJvbUV2ZW50IiwidGFyZ2V0IiwiZXZlbnROYW1lIiwib3B0aW9ucyIsImNhbGxPckFwcGx5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJpc0V2ZW50VGFyZ2V0IiwibWV0aG9kTmFtZSIsImFkZExpc3RlbmVyIiwicmVtb3ZlTGlzdGVuZXIiLCJpc05vZGVTdHlsZUV2ZW50RW1pdHRlciIsInRvQ29tbW9uSGFuZGxlclJlZ2lzdHJ5Iiwib24iLCJvZmYiLCJpc0pRdWVyeVN0eWxlRXZlbnRFbWl0dGVyIiwic3ViVGFyZ2V0IiwiQWN0aW9uIiwiaW50ZXJ2YWxQcm92aWRlciIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsIkFzeW5jQWN0aW9uIiwicGVuZGluZyIsImlkIiwicmVjeWNsZUFzeW5jSWQiLCJyZXF1ZXN0QXN5bmNJZCIsIl9pZCIsImZsdXNoIiwiX3NjaGVkdWxlciIsImV4ZWN1dGUiLCJfZXhlY3V0ZSIsIl9kZWxheSIsImVycm9yVmFsdWUiLCJlcnJvcmVkIiwiYWN0aW9ucyIsImRhdGVUaW1lc3RhbXBQcm92aWRlciIsIm5vdyIsIkRhdGUiLCJTY2hlZHVsZXIiLCJzY2hlZHVsZXJBY3Rpb25DdG9yIiwiYXN5bmNTY2hlZHVsZXIiLCJBc3luY1NjaGVkdWxlciIsIlNjaGVkdWxlckFjdGlvbiIsIl9hY3RpdmUiLCJfc2NoZWR1bGVkIiwiYWN0aW9uIiwib2JzZXJ2ZU9uIiwic3Vic2NyaWJlT24iLCJzY2hlZHVsZUFzeW5jSXRlcmFibGUiLCJzY2hlZHVsZU9ic2VydmFibGUiLCJzY2hlZHVsZUFycmF5Iiwic2NoZWR1bGVQcm9taXNlIiwic2NoZWR1bGVJdGVyYWJsZSIsInNjaGVkdWxlUmVhZGFibGVTdHJlYW1MaWtlIiwic2NoZWR1bGVkIiwiX3BhcmtpbmdIYXNoIiwiX3RpbWVPY2N1cGllZCIsIl96b25lIiwiX3RhcmlmZiIsIl9wZW5hbHR5SW5kZXgiLCJfbWF4VGltZSIsIl9jaXR5IiwiX2xvY2F0aW9uWCIsIl9sb2NhdGlvblkiLCJwYXJraW5nSGFzaCIsImNpdHkiLCJ0aW1lT2NjdXBpZWQiLCJ6b25lIiwidGFyaWZmIiwicGVuYWx0eUluZGV4IiwibWF4VGltZSIsImxvY2F0aW9uWCIsImxvY2F0aW9uWSIsImNhbGN1bGF0ZSIsInBlcmlvZCIsImR1clMiLCJ0bXBEYXRlIiwidG1wSCIsImdldEhvdXJzIiwidG1wTSIsImdldE1pbnV0ZXMiLCJ0bXBTIiwiZ2V0U2Vjb25kcyIsInRpbWVPY2N1cGllZFNwbGl0ZWQiLCJzcGxpdCIsInBhcnNlSW50IiwiY2FsY3VsYXRlRHVyYXRpb25JblNlY29uZHMiLCJzdWIiLCJkdWVUaW1lIiwiaW50ZXJ2YWxPclNjaGVkdWxlciIsImludGVydmFsRHVyYXRpb24iLCJkdWUiLCJpc05hTiIsImlzVmFsaWREYXRlIiwidGltZXIiLCJyZXMiLCJwZW5hbHR5IiwiTWF0aCIsImZsb29yIiwicmVtYWluaW5nVGltZSIsInJvdW5kIiwiY2FsY3VsYXRlVGltZUFuZFByaWNlIiwib3V0cHV0IiwiZHVyYXRpb24iLCJwcmljZSIsImxhYmVsVGltZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJsYWJlbFByaWNlIiwibGFiZWxSZW1haW5pbmdUaW1lIiwiY2xhc3NMaXN0IiwiaW5uZXJIVE1MIiwic2hvd0N1cnJlbnRTdGF0ZSIsImNoYW5nZVRhYlRvIiwibmV3VGFiIiwiZHJhd0ZpbmRlckNvbnRlbnQiLCJkcmF3Q2hlY2tlckNvbnRlbnQiLCJjb250ZW50RGl2IiwiZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSIsImNoaWxkTm9kZXMiLCJyZW1vdmVDaGlsZCIsInByZWRpY2F0ZSIsInBhcmtpbmdTcG90Qm94IiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZENoaWxkIiwiaW5mb0JveCIsInNldEF0dHJpYnV0ZSIsImxvZ091dEJ1dHRvbiIsImV2IiwidXJsIiwiZmV0Y2giLCJtZXRob2QiLCJoZWFkZXJzIiwiSlNPTiIsInN0cmluZ2lmeSIsImNvZGUiLCJvY2N1cGllZCIsImZyZWVQYXJraW5nIiwiaW5mbyIsImFsZXJ0IiwibG9nT3V0IiwiaW5wdXRIYXNoRmllbGQiLCJtYXhMZW5ndGgiLCJhY3RpdmVUYXNrIiwibGFzdFZhbHVlIiwibGFzdFRpbWUiLCJlbWl0IiwiZW1pdFdoZW5JZGxlIiwidGFyZ2V0VGltZSIsInRleHQiLCJvayIsImpzb24iLCJjb25zb2xlIiwibG9nIiwiaW5uZXJTdWJzY3JpYmVyIiwiUGFya2luZ1Nwb3QiLCJjb250YWluZXIiLCJtYWluRGl2IiwiZm9vdGVyRGl2IiwiZm9vdGVyVGV4dCIsImNlbnRlckRpdiIsIm9wdGlvbnNEaXYiLCJ0YWJzRGl2IiwidGFiIiwiaG9yaXNvbnRhbExpbmUiLCJkcmF3Il0sInNvdXJjZVJvb3QiOiIifQ==